import{a as le,b as ae}from"./chunk-HHJHYRNO.js";import{c as G,d as J,e as Q,f as W,g as X,h as Y,i as Z,j as ee,k as te,l as ie,m as oe,n as x}from"./chunk-JH3AXZJJ.js";import{_ as q,aa as z,ca as b,i as K,j as V,ka as ne,la as S,y as L}from"./chunk-YHDWXDS6.js";import{Db as o,Eb as n,Fb as y,Gb as m,Hb as u,Jb as H,Ob as C,Pb as g,X as $,Y as f,Ya as c,_b as a,a as O,ac as s,b as A,bb as R,ib as B,ic as P,ja as w,jb as _,k,ka as I,lc as U,n as p,nb as r,r as N,ub as F,vb as v}from"./chunk-SCYGOJI3.js";function h(){return`veh-${Date.now().toString(36)}${Math.random().toString(36).substring(2,7)}`}var M=class e{vehiculosSubject=new k([{id_vehiculo:h(),tipo_vehiculo:"Auto",condicion:"0KM",codigo_clasificacion:"AB",marca:"Volkswagen",modelo:"Nivus",anio:2025,kilometraje:0,precio_venta_sugerido:28e6,disponible:!0,fecha_ingreso:new Date().toISOString().split("T")[0]},{id_vehiculo:h(),tipo_vehiculo:"Auto",condicion:"Usado Propio",codigo_clasificacion:"AB1",marca:"Ford",modelo:"Focus III",anio:2019,kilometraje:55e3,precio_venta_sugerido:185e5,disponible:!0,fecha_ingreso:"2025-04-15"},{id_vehiculo:h(),tipo_vehiculo:"Camioneta",condicion:"Usado Consignado",codigo_clasificacion:"AC2",marca:"Toyota",modelo:"Hilux",anio:2020,kilometraje:89e3,precio_venta_sugerido:35e6,disponible:!0,fecha_ingreso:"2025-03-20"},{id_vehiculo:h(),tipo_vehiculo:"Moto",condicion:"0KM",codigo_clasificacion:"AD",marca:"Honda",modelo:"CB190R",anio:2025,kilometraje:0,precio_venta_sugerido:45e5,disponible:!1,fecha_ingreso:"2025-05-01"}]);vehiculos$=this.vehiculosSubject.asObservable();constructor(){}getVehiculos(){return this.vehiculos$}getVehiculoById(t){return this.vehiculos$.pipe(N(i=>i.find(l=>l.id_vehiculo===t)))}addVehiculo(t){let i=this.vehiculosSubject.getValue(),l=A(O({},t),{id_vehiculo:h(),disponible:t.disponible!==void 0?t.disponible:!0,fecha_ingreso:t.fecha_ingreso||new Date().toISOString().split("T")[0],kilometraje:t.kilometraje||0});return this.vehiculosSubject.next([...i,l]),p(l)}updateVehiculo(t){let i=this.vehiculosSubject.getValue(),l=i.findIndex(d=>d.id_vehiculo===t.id_vehiculo);return l>-1?(i[l]=t,this.vehiculosSubject.next([...i]),p(t)):p(void 0)}deleteVehiculo(t){let i=this.vehiculosSubject.getValue(),l=i.filter(d=>d.id_vehiculo!==t);return l.length<i.length?(this.vehiculosSubject.next(l),p(!0)):p(!1)}generarCodigoClasificacion(t,i){let l="";return t==="Auto"?l="AB":t==="Camioneta"?l="AC":t==="Moto"&&(l="AD"),i==="Usado Propio"?l+"1":i==="Usado Consignado"?l+"2":l}static \u0275fac=function(i){return new(i||e)};static \u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"})};function me(e,t){e&1&&(o(0,"th",18),a(1," C\xF3digo "),n())}function ue(e,t){if(e&1&&(o(0,"td",19),a(1),n()),e&2){let i=t.$implicit;c(),s(" ",i.codigo_clasificacion||"-"," ")}}function se(e,t){e&1&&(o(0,"th",18),a(1," Tipo "),n())}function de(e,t){if(e&1&&(o(0,"td",19),a(1),n()),e&2){let i=t.$implicit;c(),s(" ",i.tipo_vehiculo," ")}}function pe(e,t){e&1&&(o(0,"th",18),a(1," Condici\xF3n "),n())}function he(e,t){if(e&1&&(o(0,"td",19),a(1),n()),e&2){let i=t.$implicit;c(),s(" ",i.condicion," ")}}function fe(e,t){e&1&&(o(0,"th",18),a(1," Marca "),n())}function _e(e,t){if(e&1&&(o(0,"td",19),a(1),n()),e&2){let i=t.$implicit;c(),s(" ",i.marca||"N/A"," ")}}function ve(e,t){e&1&&(o(0,"th",18),a(1," Modelo "),n())}function Ce(e,t){if(e&1&&(o(0,"td",19),a(1),n()),e&2){let i=t.$implicit;c(),s(" ",i.modelo||"N/A"," ")}}function ge(e,t){e&1&&(o(0,"th",18),a(1," A\xF1o "),n())}function Ve(e,t){if(e&1&&(o(0,"td",19),a(1),n()),e&2){let i=t.$implicit;c(),s(" ",i.anio||"N/A"," ")}}function be(e,t){e&1&&(o(0,"th",18),a(1," Precio Sug. "),n())}function xe(e,t){if(e&1&&(o(0,"td",19),a(1),P(2,"currency"),n()),e&2){let i=t.$implicit;c(),s(" ",U(2,1,i.precio_venta_sugerido,"ARS","symbol","1.0-0")||"N/A"," ")}}function Se(e,t){e&1&&(o(0,"th",18),a(1," Disponible "),n())}function Me(e,t){if(e&1&&(o(0,"td",19),a(1),n()),e&2){let i=t.$implicit;c(),s(" ",i.disponible?"S\xED":"No"," ")}}function Ee(e,t){e&1&&(o(0,"th",18),a(1," Acciones "),n())}function De(e,t){if(e&1){let i=H();o(0,"td",19)(1,"button",20),C("click",function(){let d=w(i).$implicit,T=g();return I(T.editarVehiculo(d))}),o(2,"mat-icon"),a(3,"edit"),n()(),o(4,"button",21),C("click",function(){let d=w(i).$implicit,T=g();return I(T.eliminarVehiculo(d.id_vehiculo))}),o(5,"mat-icon"),a(6,"delete"),n()()()}}function Te(e,t){e&1&&y(0,"tr",22)}function we(e,t){e&1&&y(0,"tr",23)}function Ie(e,t){if(e&1&&(o(0,"tr",24)(1,"td",25),a(2," No hay veh\xEDculos para mostrar. "),n()()),e&2){let i=g();c(),F("colspan",i.displayedColumns.length)}}var E=class e{constructor(t){this.vehiculoService=t;this.vehiculos$=this.vehiculoService.getVehiculos()}irANuevoVehiculo(){console.log("TODO: Implementar navegaci\xF3n a nuevo veh\xEDculo")}vehiculos$;displayedColumns=["codigo_clasificacion","tipo_vehiculo","condicion","marca","modelo","anio","precio_venta_sugerido","disponible","acciones"];ngOnInit(){}editarVehiculo(t){console.log("Editar veh\xEDculo:",t)}eliminarVehiculo(t){confirm("\xBFEst\xE1 seguro de que desea eliminar este veh\xEDculo?")&&this.vehiculoService.deleteVehiculo(t).subscribe({next:i=>{i?console.log("Veh\xEDculo eliminado con ID:",t):console.error("Error: No se pudo eliminar el veh\xEDculo o no se encontr\xF3.")},error:i=>{console.error("Error al intentar eliminar el veh\xEDculo:",i)}})}ngOnDestroy(){}static \u0275fac=function(i){return new(i||e)(R(M))};static \u0275cmp=B({type:e,selectors:[["app-vehiculo-list"]],decls:39,vars:3,consts:[[1,"container","mat-elevation-z4",2,"padding","20px","margin","20px"],[2,"display","flex","justify-content","space-between","align-items","center","margin-bottom","20px"],["mat-raised-button","","color","primary",3,"click"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","codigo_clasificacion"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","tipo_vehiculo"],["matColumnDef","condicion"],["matColumnDef","marca"],["matColumnDef","modelo"],["matColumnDef","anio"],["matColumnDef","precio_venta_sugerido"],["matColumnDef","disponible"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary","matTooltip","Editar Veh\xEDculo",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar Veh\xEDculo",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],[1,"mat-cell",2,"text-align","center","padding","20px"]],template:function(i,l){i&1&&(o(0,"div",0)(1,"div",1)(2,"h1"),a(3,"Listado de Veh\xEDculos"),n(),o(4,"button",2),C("click",function(){return l.irANuevoVehiculo()}),o(5,"mat-icon"),a(6,"add"),n(),a(7," Agregar Veh\xEDculo "),n()(),o(8,"table",3),m(9,4),r(10,me,2,0,"th",5)(11,ue,2,1,"td",6),u(),m(12,7),r(13,se,2,0,"th",5)(14,de,2,1,"td",6),u(),m(15,8),r(16,pe,2,0,"th",5)(17,he,2,1,"td",6),u(),m(18,9),r(19,fe,2,0,"th",5)(20,_e,2,1,"td",6),u(),m(21,10),r(22,ve,2,0,"th",5)(23,Ce,2,1,"td",6),u(),m(24,11),r(25,ge,2,0,"th",5)(26,Ve,2,1,"td",6),u(),m(27,12),r(28,be,2,0,"th",5)(29,xe,3,6,"td",6),u(),m(30,13),r(31,Se,2,0,"th",5)(32,Me,2,1,"td",6),u(),m(33,14),r(34,Ee,2,0,"th",5)(35,De,7,0,"td",6),u(),r(36,Te,1,0,"tr",15)(37,we,1,0,"tr",16)(38,Ie,3,1,"tr",17),n()()),i&2&&(c(8),v("dataSource",l.vehiculos$),c(28),v("matHeaderRowDef",l.displayedColumns),c(),v("matRowDefColumns",l.displayedColumns))},dependencies:[V,K,x,G,Q,Z,W,J,ee,X,Y,te,ie,oe,b,z,q,S,ne,ae,le],encapsulation:2})};var ye=[{path:"",component:E}],D=class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=_({type:e});static \u0275inj=f({imports:[L.forChild(ye),L]})};var ce=class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=_({type:e});static \u0275inj=f({imports:[V,D,x,b,S]})};export{ce as VehiculosModule};
