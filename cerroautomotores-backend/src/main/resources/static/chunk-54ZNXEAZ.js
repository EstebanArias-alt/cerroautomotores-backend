import{a as et,b as tt}from"./chunk-HHJHYRNO.js";import{A as da,B as ma,C as lt,D as De,E as pa,F as ha,G as st,H as ct,I as ua,J as _a,K as Le,L as ga,M as fa,N as va,O as Mt,P as ba,Q as xa,R as ya,S as Ca,U as wa,V as ka,b as Oe,d as f,e as Ui,f as Fe,g as Ki,h as Yi,i as Xi,j as Zi,k as Ji,l as it,m as ea,n as at,o as ta,p as ia,q as aa,r as na,s as oa,t as ra,u as la,v as sa,w as nt,x as ot,y as ca,z as rt}from"./chunk-NHIPXTV4.js";import{a as ye,b as Ce,c as we,d as Ei,e as Si,f as ke}from"./chunk-LIV35LBH.js";import{a as Je,b as Di,c as Ti,d as Pi,e as Ai,f as Vi,g as Li,h as Ni,i as Ri,j as zi,k as Bi,l as ji,m as qi,n as Gi}from"./chunk-JH3AXZJJ.js";import{$ as Ii,F as vi,H as bi,J as xi,L as yi,N as be,O as xe,P as Ci,Q as wi,R as Ct,T as ki,U as z,W as wt,Z as Mi,_ as Ze,a as pi,aa as Ee,c as Ue,ca as Se,d as Ke,e as ge,f as hi,g as ui,h as Ye,ha as Oi,i as fe,ia as Fi,j as J,ka as Me,la as Ie,n as _i,na as Hi,o as gi,oa as Qi,p as fi,pa as Wi,s as Xe,sa as kt,ta as Et,u as ve,ua as St,va as $i,y as K}from"./chunk-YHDWXDS6.js";import{$b as _,Ab as he,B as se,D as Zt,Db as o,Eb as t,F as He,Fb as p,G as Jt,Ga as me,Gb as H,Hb as Q,Ib as $e,Jb as O,Ob as x,Pb as g,Q as Ae,Qb as ue,R as ie,Rb as B,S as ce,Tb as oe,U as $,Ub as W,Vb as F,Wb as D,X as ei,Y as k,Ya as s,Zb as j,_ as L,_a as ai,_b as r,a as Wt,aa as ti,ab as We,ac as v,b as $t,ba as h,bb as T,bc as li,cc as si,db as ni,dc as ci,e as qe,ec as di,gc as re,hc as mi,ia as de,ib as E,ic as b,j as te,ja as y,jb as S,jc as yt,k as Ut,ka as C,kb as ne,kc as P,l as Kt,la as Z,lc as I,ma as bt,mb as xt,mc as Ve,n as Ge,nb as m,o as Yt,qa as Qe,r as Pe,rc as _e,s as vt,ua as N,ub as w,uc as A,va as ii,vb as c,vc as U,w as Xt,wb as pe,xb as R,y as Y,ya as ae,yb as oi,z as X,zb as ri}from"./chunk-SCYGOJI3.js";var tn=["trigger"],an=["panel"],nn=[[["mat-select-trigger"]],"*"],on=["mat-select-trigger","*"];function rn(a,i){if(a&1&&(o(0,"span",4),r(1),t()),a&2){let e=g();s(),_(e.placeholder)}}function ln(a,i){a&1&&B(0)}function sn(a,i){if(a&1&&(o(0,"span",11),r(1),t()),a&2){let e=g(2);s(),_(e.triggerValue)}}function cn(a,i){if(a&1&&(o(0,"span",5),m(1,ln,1,0)(2,sn,2,1,"span",11),t()),a&2){let e=g();s(),he(e.customTrigger?1:2)}}function dn(a,i){if(a&1){let e=O();o(0,"div",12,1),x("keydown",function(l){y(e);let d=g();return C(d._handleKeydown(l))}),B(2,1),t()}if(a&2){let e=g();ri("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),R("mat-select-panel-animations-enabled",!e._animationsDisabled),c("ngClass",e.panelClass),w("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var It=new L("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let a=h(kt);return()=>a.scrollStrategies.reposition()}});function Ma(a){return()=>a.scrollStrategies.reposition()}var Ia=new L("MAT_SELECT_CONFIG"),Oa={provide:It,deps:[kt],useFactory:Ma},Fa=new L("MatSelectTrigger"),pt=class{source;value;constructor(i,e){this.source=i,this.value=e}},Ot=(()=>{class a{_viewportRuler=h(Oi);_changeDetectorRef=h(_e);_elementRef=h(ae);_dir=h(ki,{optional:!0});_idGenerator=h(be);_renderer=h(We);_parentFormField=h(ma,{optional:!0});ngControl=h(Ui,{self:!0,optional:!0});_liveAnnouncer=h(yi);_defaultOptions=h(Ia,{optional:!0});_animationsDisabled=h(me,{optional:!0})==="NoopAnimations";_initialized=new te;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){let n=this.options.toArray()[e];if(n){let l=this.panel.nativeElement,d=ga(e,this.options,this.optionGroups),u=n._getHostElement();e===0&&d===1?l.scrollTop=0:l.scrollTop=fa(u.offsetTop,u.offsetHeight,l.scrollTop,l.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new pt(this,e)}_scrollStrategyFactory=h(It);_panelOpen=!1;_compareWith=(e,n)=>e===n;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new te;_errorStateTracker;stateChanges=new te;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;disableRipple=!1;tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(f.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=Xt(()=>{let e=this.options;return e?e.changes.pipe(Ae(e),ie(()=>Y(...e.map(n=>n.onSelectionChange)))):this._initialized.pipe(ie(()=>this.optionSelectionChanges))});openedChange=new N;_openedStream=this.openedChange.pipe(X(e=>e),Pe(()=>{}));_closedStream=this.openedChange.pipe(X(e=>!e),Pe(()=>{}));selectionChange=new N;valueChange=new N;constructor(){let e=h(pa),n=h(Yi,{optional:!0}),l=h(at,{optional:!0}),d=h(new Qe("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new ha(e,this.ngControl,l,n,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=d==null?0:parseInt(d)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Di(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(ce(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(ce(this._destroy)).subscribe(e=>{e.added.forEach(n=>n.select()),e.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(Ae(null),ce(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),n=this.ngControl;if(e!==this._triggerAriaLabelledBy){let l=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?l.setAttribute("aria-labelledby",e):l.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(this._previousControl!==void 0&&n.disabled!==null&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(He(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let n=`${this.id}-panel`;this._trackedModal&&Ct(this._trackedModal,"aria-owns",n),wi(e,"aria-owns",n),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;Ct(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel){this._detachOverlay();return}this._cleanupDetach?.(),this._cleanupDetach=()=>{n(),clearTimeout(l),this._cleanupDetach=void 0};let e=this.panel.nativeElement,n=this._renderer.listen(e,"animationend",d=>{d.animationName==="_mat-select-exit"&&(this._cleanupDetach?.(),this._detachOverlay())}),l=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);e.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let n=e.keyCode,l=n===40||n===38||n===37||n===39,d=n===13||n===32,u=this._keyManager;if(!u.isTyping()&&d&&!xe(e)||(this.multiple||e.altKey)&&l)e.preventDefault(),this.open();else if(!this.multiple){let V=this.selected;u.onKeydown(e);let M=this.selected;M&&V!==M&&this._liveAnnouncer.announce(M.viewValue,1e4)}}_handleOpenKeydown(e){let n=this._keyManager,l=e.keyCode,d=l===40||l===38,u=n.isTyping();if(d&&e.altKey)e.preventDefault(),this.close();else if(!u&&(l===13||l===32)&&n.activeItem&&!xe(e))e.preventDefault(),n.activeItem._selectViaInteraction();else if(!u&&this._multiple&&l===65&&e.ctrlKey){e.preventDefault();let V=this.options.some(M=>!M.disabled&&!M.selected);this.options.forEach(M=>{M.disabled||(V?M.select():M.deselect())})}else{let V=n.activeItemIndex;n.onKeydown(e),this._multiple&&d&&e.shiftKey&&n.activeItem&&n.activeItemIndex!==V&&n.activeItem._selectViaInteraction()}}_handleOverlayKeydown(e){e.keyCode===27&&!xe(e)&&(e.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{let n=this._selectOptionByValue(e);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let n=this.options.find(l=>{if(this._selectionModel.isSelected(l))return!1;try{return(l.value!=null||this.canSelectNullableOptions)&&this._compareWith(l.value,e)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_skipPredicate=e=>this.panelOpen?!1:e.disabled;_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof Et?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Ci(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=Y(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(ce(e)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Y(...this.options.map(n=>n._stateChanges)).pipe(ce(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,n){let l=this._selectionModel.isSelected(e);!this.canSelectNullableOptions&&e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(l!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),n&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),n&&this.focus())),l!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((n,l)=>this.sortComparator?this.sortComparator(n,l,e):e.indexOf(n)-e.indexOf(l)),this.stateChanges.next()}}_propagateChanges(e){let n;this.multiple?n=this.selected.map(l=>l.value):n=this.selected?this.selected.value:e,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let n=0;n<this.options.length;n++)if(!this.options.get(n).disabled){e=n;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,n=e?e+" ":"";return this.ariaLabelledby?n+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||"";return this.ariaLabelledby&&(e+=" "+this.ariaLabelledby),e||(e=this._valueId),e}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=E({type:a,selectors:[["mat-select"]],contentQueries:function(n,l,d){if(n&1&&(oe(d,Fa,5),oe(d,Le,5),oe(d,_a,5)),n&2){let u;F(u=D())&&(l.customTrigger=u.first),F(u=D())&&(l.options=u),F(u=D())&&(l.optionGroups=u)}},viewQuery:function(n,l){if(n&1&&(W(tn,5),W(an,5),W(St,5)),n&2){let d;F(d=D())&&(l.trigger=d.first),F(d=D())&&(l.panel=d.first),F(d=D())&&(l._overlayDir=d.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(n,l){n&1&&x("keydown",function(u){return l._handleKeydown(u)})("focus",function(){return l._onFocus()})("blur",function(){return l._onBlur()}),n&2&&(w("id",l.id)("tabindex",l.disabled?-1:l.tabIndex)("aria-controls",l.panelOpen?l.id+"-panel":null)("aria-expanded",l.panelOpen)("aria-label",l.ariaLabel||null)("aria-required",l.required.toString())("aria-disabled",l.disabled.toString())("aria-invalid",l.errorState)("aria-activedescendant",l._getAriaActiveDescendant()),R("mat-mdc-select-disabled",l.disabled)("mat-mdc-select-invalid",l.errorState)("mat-mdc-select-required",l.required)("mat-mdc-select-empty",l.empty)("mat-mdc-select-multiple",l.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",A],disableRipple:[2,"disableRipple","disableRipple",A],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:U(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",A],placeholder:"placeholder",required:[2,"required","required",A],multiple:[2,"multiple","multiple",A],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",A],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",U],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",A]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[re([{provide:da,useExisting:a},{provide:ua,useExisting:a}]),de],ngContentSelectors:on,decls:11,vars:9,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"detach","backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayFlexibleDimensions"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(n,l){if(n&1){let d=O();ue(nn),o(0,"div",2,0),x("click",function(){return y(d),C(l.open())}),o(3,"div",3),m(4,rn,2,1,"span",4)(5,cn,3,1,"span",5),t(),o(6,"div",6)(7,"div",7),Z(),o(8,"svg",8),p(9,"path",9),t()()()(),m(10,dn,3,10,"ng-template",10),x("detach",function(){return y(d),C(l.close())})("backdropClick",function(){return y(d),C(l.close())})("overlayKeydown",function(V){return y(d),C(l._handleOverlayKeydown(V))})}if(n&2){let d=j(1);s(3),w("id",l._valueId),s(),he(l.empty?4:5),s(6),c("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",l._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",l._scrollStrategy)("cdkConnectedOverlayOrigin",l._preferredOverlayOrigin||d)("cdkConnectedOverlayPositions",l._positions)("cdkConnectedOverlayWidth",l._overlayWidth)("cdkConnectedOverlayFlexibleDimensions",!0)}},dependencies:[Et,St,Ue],styles:[`@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:relative;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}
`],encapsulation:2,changeDetection:0})}return a})();var Ft=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=S({type:a});static \u0275inj=k({providers:[Oa],imports:[$i,Mt,z,Fi,De,Mt,z]})}return a})();var Da=new L("CdkAccordion");var Ta=(()=>{class a{accordion=h(Da,{optional:!0,skipSelf:!0});_changeDetectorRef=h(_e);_expansionDispatcher=h(Je);_openCloseAllSubscription=qe.EMPTY;closed=new N;opened=new N;destroyed=new N;expandedChange=new N;id=h(be).getId("cdk-accordion-child-");get expanded(){return this._expanded}set expanded(e){if(this._expanded!==e){if(this._expanded=e,this.expandedChange.emit(e),e){this.opened.emit();let n=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,n)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}_expanded=!1;disabled=!1;_removeUniqueSelectionListener=()=>{};constructor(){}ngOnInit(){this._removeUniqueSelectionListener=this._expansionDispatcher.listen((e,n)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===n&&this.id!==e&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static \u0275fac=function(n){return new(n||a)};static \u0275dir=ne({type:a,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",A],disabled:[2,"disabled","disabled",A]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[re([{provide:Da,useValue:void 0}])]})}return a})(),Pa=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=S({type:a});static \u0275inj=k({})}return a})();var hn=["body"],un=["bodyWrapper"],_n=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],gn=["mat-expansion-panel-header","*","mat-action-row"];function fn(a,i){}var vn=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],bn=["mat-panel-title","mat-panel-description","*"];function xn(a,i){a&1&&(o(0,"span",1),Z(),o(1,"svg",2),p(2,"path",3),t()())}var Aa=new L("MAT_ACCORDION"),Va=new L("MAT_EXPANSION_PANEL"),yn=(()=>{class a{_template=h(ai);_expansionPanel=h(Va,{optional:!0});constructor(){}static \u0275fac=function(n){return new(n||a)};static \u0275dir=ne({type:a,selectors:[["ng-template","matExpansionPanelContent",""]]})}return a})(),La=new L("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),Dt=(()=>{class a extends Ta{_viewContainerRef=h(ni);_animationsDisabled=h(me,{optional:!0})==="NoopAnimations";_document=h(pi);_ngZone=h(ii);_elementRef=h(ae);_renderer=h(We);_cleanupTransitionEnd;get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=e}_hideToggle=!1;get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_togglePosition;afterExpand=new N;afterCollapse=new N;_inputChanges=new te;accordion=h(Aa,{optional:!0,skipSelf:!0});_lazyContent;_body;_bodyWrapper;_portal;_headerId=h(be).getId("mat-expansion-panel-header-");constructor(){super();let e=h(La,{optional:!0});this._expansionDispatcher=h(Je),e&&(this.hideToggle=e.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Ae(null),X(()=>this.expanded&&!this._portal),He(1)).subscribe(()=>{this._portal=new Hi(this._lazyContent._template,this._viewContainerRef)}),this._setupAnimationEvents()}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransitionEnd?.(),this._inputChanges.complete()}_containsFocus(){if(this._body){let e=this._document.activeElement,n=this._body.nativeElement;return e===n||n.contains(e)}return!1}_transitionEndListener=({target:e,propertyName:n})=>{e===this._bodyWrapper?.nativeElement&&n==="grid-template-rows"&&this._ngZone.run(()=>{this.expanded?this.afterExpand.emit():this.afterCollapse.emit()})};_setupAnimationEvents(){this._ngZone.runOutsideAngular(()=>{this._animationsDisabled?(this.opened.subscribe(()=>this._ngZone.run(()=>this.afterExpand.emit())),this.closed.subscribe(()=>this._ngZone.run(()=>this.afterCollapse.emit()))):setTimeout(()=>{let e=this._elementRef.nativeElement;this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this._transitionEndListener),e.classList.add("mat-expansion-panel-animations-enabled")},200)})}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=E({type:a,selectors:[["mat-expansion-panel"]],contentQueries:function(n,l,d){if(n&1&&oe(d,yn,5),n&2){let u;F(u=D())&&(l._lazyContent=u.first)}},viewQuery:function(n,l){if(n&1&&(W(hn,5),W(un,5)),n&2){let d;F(d=D())&&(l._body=d.first),F(d=D())&&(l._bodyWrapper=d.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:4,hostBindings:function(n,l){n&2&&R("mat-expanded",l.expanded)("mat-expansion-panel-spacing",l._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",A],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[re([{provide:Aa,useValue:void 0},{provide:Va,useExisting:a}]),xt,de],ngContentSelectors:gn,decls:9,vars:4,consts:[["bodyWrapper",""],["body",""],[1,"mat-expansion-panel-content-wrapper"],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(n,l){n&1&&(ue(_n),B(0),o(1,"div",2,0)(3,"div",3,1)(5,"div",4),B(6,1),m(7,fn,0,0,"ng-template",5),t(),B(8,2),t()()),n&2&&(s(),w("inert",l.expanded?null:""),s(2),c("id",l.id),w("aria-labelledby",l._headerId),s(4),c("cdkPortalOutlet",l._portal))},dependencies:[Qi],styles:[`.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;position:relative;background:var(--mat-expansion-container-background-color, var(--mat-sys-surface));color:var(--mat-expansion-container-text-color, var(--mat-sys-on-surface));border-radius:var(--mat-expansion-container-shape, 12px)}.mat-expansion-panel.mat-expansion-panel-animations-enabled{transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape, 12px);border-top-left-radius:var(--mat-expansion-container-shape, 12px)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape, 12px);border-bottom-left-radius:var(--mat-expansion-container-shape, 12px)}@media(forced-colors: active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel-content-wrapper{display:grid;grid-template-rows:0fr;grid-template-columns:100%}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content-wrapper{transition:grid-template-rows 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{grid-template-rows:1fr}@supports not (grid-template-rows: 0fr){.mat-expansion-panel-content-wrapper{height:0}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{height:auto}}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;min-height:0;visibility:hidden;font-family:var(--mat-expansion-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-sys-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-sys-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-sys-body-large-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content{transition:visibility 190ms linear}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper>.mat-expansion-panel-content{visibility:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-sys-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}
`],encapsulation:2,changeDetection:0})}return a})();var Na=(()=>{class a{panel=h(Dt,{host:!0});_element=h(ae);_focusMonitor=h(vi);_changeDetectorRef=h(_e);_parentChangeSubscription=qe.EMPTY;constructor(){h(bi).load(Mi);let e=this.panel,n=h(La,{optional:!0}),l=h(new Qe("tabindex"),{optional:!0}),d=e.accordion?e.accordion._stateChanges.pipe(X(u=>!!(u.hideToggle||u.togglePosition))):Kt;this.tabIndex=parseInt(l||"")||0,this._parentChangeSubscription=Y(e.opened,e.closed,d,e._inputChanges.pipe(X(u=>!!(u.hideToggle||u.disabled||u.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(X(()=>e._containsFocus())).subscribe(()=>this._focusMonitor.focusVia(this._element,"program")),n&&(this.expandedHeight=n.expandedHeight,this.collapsedHeight=n.collapsedHeight)}expandedHeight;collapsedHeight;tabIndex=0;get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:xe(e)||(e.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e);return}}focus(e,n){e?this._focusMonitor.focusVia(this._element,e,n):this._element.nativeElement.focus(n)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=E({type:a,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:13,hostBindings:function(n,l){n&1&&x("click",function(){return l._toggle()})("keydown",function(u){return l._keydown(u)}),n&2&&(w("id",l.panel._headerId)("tabindex",l.disabled?-1:l.tabIndex)("aria-controls",l._getPanelId())("aria-expanded",l._isExpanded())("aria-disabled",l.panel.disabled),pe("height",l._getHeaderHeight()),R("mat-expanded",l._isExpanded())("mat-expansion-toggle-indicator-after",l._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",l._getTogglePosition()==="before"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:U(e)]},ngContentSelectors:bn,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(n,l){n&1&&(ue(vn),o(0,"span",0),B(1),B(2,1),B(3,2),t(),m(4,xn,3,0,"span",1)),n&2&&(R("mat-content-hide-toggle",!l._showToggle()),s(4),he(l._showToggle()?4:-1))},styles:[`.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;height:var(--mat-expansion-header-collapsed-state-height, 48px);font-family:var(--mat-expansion-header-text-font, var(--mat-sys-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-sys-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-sys-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-sys-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-sys-title-medium-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-header{transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header::before{border-radius:inherit}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height, 64px)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-sys-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-sys-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-sys-on-surface-variant))}.mat-expansion-panel-animations-enabled .mat-expansion-indicator{transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header.mat-expanded .mat-expansion-indicator{transform:rotate(180deg)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, none)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-header-indicator-display, inline-block)}@media(forced-colors: active){.mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}}
`],encapsulation:2,changeDetection:0})}return a})();var Ra=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275dir=ne({type:a,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return a})();var za=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=S({type:a});static \u0275inj=k({imports:[z,Pa,Wi]})}return a})();var wn=["determinateSpinner"];function kn(a,i){if(a&1&&(Z(),o(0,"svg",11),p(1,"circle",12),t()),a&2){let e=g();w("viewBox",e._viewBox()),s(),pe("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),w("r",e._circleRadius())}}var En=new L("mat-progress-spinner-default-options",{providedIn:"root",factory:Sn});function Sn(){return{diameter:Ba}}var Ba=100,Mn=10,ja=(()=>{class a{_elementRef=h(ae);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){let e=h(me,{optional:!0}),n=h(En);this._noopAnimations=e==="NoopAnimations"&&!!n&&!n._forceAnimations,this.mode=this._elementRef.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",n&&(n.color&&(this.color=this._defaultColor=n.color),n.diameter&&(this.diameter=n.diameter),n.strokeWidth&&(this.strokeWidth=n.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=Ba;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-Mn)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=E({type:a,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(n,l){if(n&1&&W(wn,5),n&2){let d;F(d=D())&&(l._determinateCircle=d.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(n,l){n&2&&(w("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",l.mode==="determinate"?l.value:null)("mode",l.mode),oi("mat-"+l.color),pe("width",l.diameter,"px")("height",l.diameter,"px")("--mdc-circular-progress-size",l.diameter+"px")("--mdc-circular-progress-active-indicator-width",l.diameter+"px"),R("_mat-animation-noopable",l._noopAnimations)("mdc-circular-progress--indeterminate",l.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",U],diameter:[2,"diameter","diameter",U],strokeWidth:[2,"strokeWidth","strokeWidth",U]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(n,l){if(n&1&&(m(0,kn,2,8,"ng-template",null,0,Ve),o(2,"div",2,1),Z(),o(4,"svg",3),p(5,"circle",4),t()(),bt(),o(6,"div",5)(7,"div",6)(8,"div",7),$e(9,8),t(),o(10,"div",9),$e(11,8),t(),o(12,"div",10),$e(13,8),t()()()),n&2){let d=j(1);s(4),w("viewBox",l._viewBox()),s(),pe("stroke-dasharray",l._strokeCircumference(),"px")("stroke-dashoffset",l._strokeDashOffset(),"px")("stroke-width",l._circleStrokeWidth(),"%"),w("r",l._circleRadius()),s(4),c("ngTemplateOutlet",d),s(2),c("ngTemplateOutlet",d),s(2),c("ngTemplateOutlet",d)}},dependencies:[hi],styles:[`.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0})}return a})();var ht=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=S({type:a});static \u0275inj=k({imports:[z]})}return a})();var Ne=(()=>{class a{get vertical(){return this._vertical}set vertical(e){this._vertical=wt(e)}_vertical=!1;get inset(){return this._inset}set inset(e){this._inset=wt(e)}_inset=!1;static \u0275fac=function(n){return new(n||a)};static \u0275cmp=E({type:a,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(n,l){n&2&&(w("aria-orientation",l.vertical?"vertical":"horizontal"),R("mat-divider-vertical",l.vertical)("mat-divider-horizontal",!l.vertical)("mat-divider-inset",l.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(n,l){},styles:[`.mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}
`],encapsulation:2,changeDetection:0})}return a})(),ut=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=S({type:a});static \u0275inj=k({imports:[z,z]})}return a})();var ee=class a{constructor(i){this.http=i;this.cargarVentasIniciales()}apiUrl="http://localhost:8080/api/ventas";ventasSubject=new Ut([]);ventas$=this.ventasSubject.asObservable();httpOptions={headers:new _i({"Content-Type":"application/json"})};cargarVentasIniciales(i=""){let e=new gi;i&&i.trim().length>0&&(e=e.append("filtro",i)),this.http.get(this.apiUrl,{params:e}).pipe($(n=>{console.log(`Ventas recibidas del backend (filtro: "${i}"):`,n),this.ventasSubject.next(n)}),se(this.handleError)).subscribe()}getVentas(){return this.ventas$}getVentaById(i){let e=`${this.apiUrl}/${i}`;return this.http.get(e).pipe(se(this.handleError))}addVenta(i){return this.http.post(this.apiUrl,i,this.httpOptions).pipe($(()=>{this.cargarVentasIniciales()}),se(this.handleError))}updateVenta(i){let e=`${this.apiUrl}/${i.idVenta}`;return this.http.put(e,i,this.httpOptions).pipe($(n=>{console.log("Venta actualizada, recargando lista..."),this.cargarVentasIniciales()}),se(this.handleError))}deleteVenta(i){let e=`${this.apiUrl}/${i}`;return this.http.delete(e).pipe($(()=>{this.cargarVentasIniciales()}),Pe(()=>!0),se(this.handleError))}handleError(i){let e="Ocurri\xF3 un error desconocido.";return i.error instanceof ErrorEvent?e=`Error del cliente: ${i.error.message}`:e=`C\xF3digo de error del servidor: ${i.status}, mensaje: ${i.message}`,console.error(e),Yt(()=>new Error("Algo sali\xF3 mal; por favor, intente nuevamente m\xE1s tarde."))}actualizarCuotasPagadas(i,e){return this.http.put(`http://localhost:8080/api/ventas/${i}/cuotas-pagadas`,e)}static \u0275fac=function(e){return new(e||a)(ti(fi))};static \u0275prov=ei({token:a,factory:a.\u0275fac,providedIn:"root"})};var Tn=(a,i)=>({negativa:a,positiva:i});function Pn(a,i){a&1&&(o(0,"mat-error"),r(1," La fecha es requerida. "),t())}function An(a,i){a&1&&(o(0,"mat-option",56),r(1,"Cargando empleados..."),t())}function Vn(a,i){if(a&1&&(o(0,"mat-option",57),r(1),t()),a&2){let e=i.$implicit;c("value",e.id_empleado),s(),v(" ",e.nombre_completo," ")}}function Ln(a,i){a&1&&(o(0,"mat-error"),r(1," El vendedor es requerido. "),t())}function Nn(a,i){if(a&1&&(o(0,"mat-option",57),r(1),t()),a&2){let e=i.$implicit;c("value",e),s(),v(" ",e," ")}}function Rn(a,i){a&1&&(o(0,"mat-error"),r(1," La clasificaci\xF3n es requerida. "),t())}function zn(a,i){a&1&&(o(0,"mat-error"),r(1," El precio es requerido. "),t())}function Bn(a,i){a&1&&(o(0,"mat-error"),r(1," El precio debe ser positivo. "),t())}function jn(a,i){a&1&&(o(0,"mat-error"),r(1," El nombre es requerido. "),t())}function qn(a,i){a&1&&(o(0,"mat-error"),r(1," DNI/CUIT es requerido. "),t())}function Gn(a,i){a&1&&(o(0,"mat-error"),r(1," Formato de email inv\xE1lido. "),t())}function Hn(a,i){if(a&1&&(o(0,"mat-option",57),r(1),t()),a&2){let e=i.$implicit;c("value",e),s(),v(" ",e," ")}}function Qn(a,i){a&1&&(o(0,"mat-error"),r(1," La condici\xF3n IVA es requerida. "),t())}function Wn(a,i){a&1&&(o(0,"mat-error"),r(1," El m\xE9todo de pago es requerido. "),t())}function $n(a,i){a&1&&(o(0,"mat-error"),r(1,"El monto cobrado es requerido."),t())}function Un(a,i){a&1&&(o(0,"mat-error"),r(1,"El monto debe ser positivo."),t())}function Kn(a,i){a&1&&(o(0,"div",6)(1,"mat-form-field",7)(2,"mat-label"),r(3,"Monto total del cr\xE9dito ($)"),t(),p(4,"input",58),t(),o(5,"mat-form-field",7)(6,"mat-label"),r(7,"En cu\xE1ntas cuotas"),t(),p(8,"input",59),t(),o(9,"mat-form-field",7)(10,"mat-label"),r(11,"Monto por cuota ($)"),t(),p(12,"input",60),t()())}function Yn(a,i){a&1&&(o(0,"mat-form-field",7)(1,"mat-label"),r(2,"Monto ($)"),t(),p(3,"input",68),t())}function Xn(a,i){a&1&&(o(0,"div",6)(1,"mat-form-field",7)(2,"mat-label"),r(3,"Monto total del cr\xE9dito ($)"),t(),p(4,"input",58),t(),o(5,"mat-form-field",7)(6,"mat-label"),r(7,"En cu\xE1ntas cuotas"),t(),p(8,"input",69),t(),o(9,"mat-form-field",7)(10,"mat-label"),r(11,"Monto por cuota ($)"),t(),p(12,"input",70),t()())}function Zn(a,i){if(a&1){let e=O();o(0,"div",61)(1,"div",6)(2,"mat-form-field",7)(3,"mat-label"),r(4,"Tipo (manual)"),t(),p(5,"input",62),t(),m(6,Yn,4,0,"mat-form-field",63),t(),m(7,Xn,13,0,"div",29),o(8,"div",31)(9,"mat-form-field",64)(10,"mat-label"),r(11,"Observaci\xF3n (opcional)"),t(),p(12,"input",65),t(),o(13,"button",66),x("click",function(){let l=y(e).index,d=g();return C(d.quitarDetallePago(l))}),o(14,"mat-icon"),r(15,"delete_outline"),t(),r(16," Quitar "),t()(),p(17,"mat-divider",67),t()}if(a&2){let e,n,l=i.$implicit,d=i.index;c("formGroupName",d),s(6),c("ngIf",!(!((e=l.get("tipo"))==null||e.value==null||(e=e.value.toLowerCase())==null)&&e.includes("credito")||!((e=l.get("tipo"))==null||e.value==null||(e=e.value.toLowerCase())==null)&&e.includes("cr\xE9dito"))),s(),c("ngIf",((n=l.get("tipo"))==null||n.value==null||(n=n.value.toLowerCase())==null?null:n.includes("credito"))||((n=l.get("tipo"))==null||n.value==null||(n=n.value.toLowerCase())==null?null:n.includes("cr\xE9dito")))}}function Jn(a,i){if(a&1&&(o(0,"mat-option",57),r(1),t()),a&2){let e=i.$implicit;c("value",e),s(),v(" ",e," ")}}function eo(a,i){a&1&&(o(0,"mat-error"),r(1," El tipo de financiaci\xF3n es requerido. "),t())}function to(a,i){a&1&&(o(0,"mat-error"),r(1,"Requerido"),t())}function io(a,i){a&1&&(o(0,"mat-error"),r(1,"Requerido"),t())}function ao(a,i){a&1&&(o(0,"mat-error"),r(1,"Requerido"),t())}function no(a,i){if(a&1&&(o(0,"div",71)(1,"h4"),r(2,"Detalles de Financiaci\xF3n Propia"),t(),o(3,"div",6)(4,"mat-form-field",7)(5,"mat-label"),r(6,"Monto financiado (sin inter\xE9s)"),t(),p(7,"input",72),m(8,to,2,0,"mat-error",10),t(),o(9,"mat-form-field",7)(10,"mat-label"),r(11,"% de inter\xE9s"),t(),p(12,"input",73),m(13,io,2,0,"mat-error",10),t()(),o(14,"div",6)(15,"mat-form-field",7)(16,"mat-label"),r(17,"Cantidad de cuotas"),t(),p(18,"input",74),m(19,ao,2,0,"mat-error",10),t(),o(20,"mat-form-field",7)(21,"mat-label"),r(22,"Monto total a financiar ($)"),t(),p(23,"input",75),t(),o(24,"mat-form-field",7)(25,"mat-label"),r(26,"Valor de cada cuota ($)"),t(),p(27,"input",76),t()()()),a&2){let e,n,l,d=g();s(8),c("ngIf",(e=d.ventaForm.get("detalle_financiacion_propia.monto_financiado"))==null?null:e.hasError("required")),s(5),c("ngIf",(n=d.ventaForm.get("detalle_financiacion_propia.tasa_interes"))==null?null:n.hasError("required")),s(6),c("ngIf",(l=d.ventaForm.get("detalle_financiacion_propia.cantidad_cuotas"))==null?null:l.hasError("required"))}}function oo(a,i){a&1&&(o(0,"div",77)(1,"h4"),r(2,"Detalles del Sistema de Inversi\xF3n"),t(),o(3,"div",6)(4,"mat-form-field",7)(5,"mat-label"),r(6,"C\xF3digo"),t(),p(7,"input",78),t(),o(8,"mat-form-field",7)(9,"mat-label"),r(10,"A\xF1o"),t(),p(11,"input",79),t()(),o(12,"div",6)(13,"mat-form-field",7)(14,"mat-label"),r(15,"Precio ($)"),t(),p(16,"input",80),t(),o(17,"mat-form-field",7)(18,"mat-label"),r(19,"Cuotas"),t(),p(20,"input",81),t()()())}function ro(a,i){a&1&&(o(0,"mat-error"),r(1," La entidad es requerida. "),t())}function lo(a,i){a&1&&(o(0,"mat-form-field",7)(1,"mat-label"),r(2,"Nombre Otro Banco"),t(),p(3,"input",88),t())}function so(a,i){a&1&&(o(0,"mat-error"),r(1,"Requerido"),t())}function co(a,i){a&1&&(o(0,"mat-error"),r(1,"Requerido"),t())}function mo(a,i){if(a&1&&(o(0,"div",82)(1,"h4"),r(2,"Detalles de Financiaci\xF3n Prendaria"),t(),o(3,"div",6)(4,"mat-form-field",7)(5,"mat-label"),r(6,"Entidad Financiera"),t(),p(7,"input",83),m(8,ro,2,0,"mat-error",10),t(),m(9,lo,4,0,"mat-form-field",63),t(),o(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),r(13,"Monto del Cr\xE9dito ($)"),t(),p(14,"input",84),m(15,so,2,0,"mat-error",10),t(),o(16,"mat-form-field",7)(17,"mat-label"),r(18,"Plazo (Meses)"),t(),p(19,"input",85),m(20,co,2,0,"mat-error",10),t()(),o(21,"mat-form-field",7)(22,"mat-label"),r(23,"Valor Cuota Estimado ($)"),t(),p(24,"input",86),t(),o(25,"mat-form-field",16)(26,"mat-label"),r(27,"N\xBA Contrato/Referencia (Opcional)"),t(),p(28,"input",87),t()()),a&2){let e,n,l,d,u=g();s(8),c("ngIf",(e=u.ventaForm.get("detalle_financiacion_prendaria.entidadFinanciera"))==null?null:e.hasError("required")),s(),c("ngIf",((n=u.ventaForm.get("detalles_financiacion_prendaria.entidad"))==null?null:n.value)==="Otro"),s(6),c("ngIf",(l=u.ventaForm.get("detalles_financiacion_prendaria.monto_credito"))==null?null:l.hasError("required")),s(5),c("ngIf",(d=u.ventaForm.get("detalles_financiacion_prendaria.plazo_meses"))==null?null:d.hasError("required"))}}function po(a,i){a&1&&(o(0,"mat-error"),r(1," El costo es requerido. "),t())}function ho(a,i){a&1&&(o(0,"mat-error"),r(1," El costo debe ser positivo. "),t())}function uo(a,i){a&1&&(o(0,"mat-error"),r(1,"Monto inv\xE1lido."),t())}function _o(a,i){a&1&&(o(0,"mat-error"),r(1," Porcentaje entre 0 y 100. "),t())}function go(a,i){a&1&&(o(0,"mat-error"),r(1,"Requerido"),t())}function fo(a,i){a&1&&(o(0,"mat-error"),r(1,"Requerido"),t())}function vo(a,i){if(a&1){let e=O();o(0,"div",89)(1,"mat-form-field",90)(2,"mat-label"),r(3),t(),p(4,"input",91),m(5,go,2,0,"mat-error",10),t(),o(6,"mat-form-field",92)(7,"mat-label"),r(8),t(),p(9,"input",93),m(10,fo,2,0,"mat-error",10),t(),o(11,"button",94),x("click",function(){let l=y(e).index,d=g();return C(d.removeGastoOperativo(l))}),o(12,"mat-icon"),r(13,"delete_outline"),t()()()}if(a&2){let e,n,l=i.$implicit,d=i.index;c("formGroupName",d),s(3),v("Descripci\xF3n Gasto ",d+1,""),s(2),c("ngIf",(e=l.get("descripcion"))==null?null:e.hasError("required")),s(3),v("Monto Gasto ",d+1," ($)"),s(2),c("ngIf",(n=l.get("monto"))==null?null:n.hasError("required"))}}function bo(a,i){if(a&1&&(o(0,"mat-option",57),r(1),t()),a&2){let e=i.$implicit;c("value",e),s(),v(" ",e," ")}}function xo(a,i){a&1&&(o(0,"mat-error"),r(1," El estado es requerido. "),t())}var Re=class a{constructor(i,e,n,l,d){this.fb=i;this.ventaService=e;this.empleadoService=n;this.router=l;this.route=d;this.empleados$=this.empleadoService.getEmpleadosActivos()}ventaForm;clasificacionesVehiculo=["AB","AB1","AB2","AC","AC1","AC2","AD","AD1","AD2","AE","AE1","OTRO"];condicionesIVA=["Consumidor Final","Responsable Inscripto","Monotributista","Exento"];metodosDePago=["Efectivo","Transferencia Bancaria","Tarjeta D\xE9bito","Tarjeta Cr\xE9dito","Cheque","Combinado"];tiposDeFinanciacion=["Sin Financiacion","Propia","Prendaria","Sistema de Inversion"];estadosOperacion=["Iniciada","Documentaci\xF3n Pendiente","Pagada","Veh\xEDculo Entregado","Completada","Cancelada"];gananciaPreview=null;gananciaSub;empleados$;isEditMode=!1;currentVentaId=null;isLoading=!1;routeSubscription;valorCuota;montoConInteres;detalleSubs=[];ngOnInit(){this.initializeForm(),this.checkEditMode(),this.setupGananciaPreviewWatcher()}ngOnDestroy(){this.routeSubscription?.unsubscribe(),this.detalleSubs.forEach(i=>i.unsubscribe()),this.gananciaSub?.unsubscribe()}toNumber(i){if(i==null||i==="")return null;let e=Number(i);return Number.isNaN(e)?null:e}incluyeCredito(i){return!!i&&i.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes("credito")}initializeForm(){let i=new Date().toISOString().split("T")[0];this.ventaForm=this.fb.group({cliente_id:[null],fecha_operacion:[i,f.required],empleado_vendedor_id:["",f.required],clasificacion_vehiculo_vendido:["",f.required],descripcion_vehiculo_manual:[""],precio_vehiculo_pactado:[null,[f.required,f.min(0)]],cliente_nombre_razon_social:["",f.required],cliente_dni_cuit:["",f.required],cliente_telefono:[""],cliente_email:["",[f.email]],cliente_direccion:[""],cliente_localidad:["San Salvador de Jujuy"],cliente_provincia:["Jujuy"],cliente_condicion_iva:["Consumidor Final",f.required],metodo_pago_principal:["",f.required],monto_total_cobrado:[null,[f.required,f.min(0)]],monto_total_credito:[null],cantidad_cuotas_credito:[null],monto_cuota_credito:[null],tipo_financiacion:["Sin Financiacion",f.required],detalle_financiacion_propia:this.fb.group({monto_financiado:[null,f.required],tasa_interes:[null,f.required],cantidad_cuotas:[null,f.required],monto_total:[{value:null,disabled:!0}],valor_cuota:[{value:null,disabled:!0}]}),detalle_financiacion_prendaria:this.fb.group({entidadFinanciera:["",f.required],otro_banco_nombre:[{value:"",disabled:!0}],monto_credito:[{value:null,disabled:!0}],plazo_meses:[{value:null,disabled:!0}],valor_cuota_estimado:[{value:null,disabled:!0}],numero_contrato_o_referencia:[{value:"",disabled:!0}]}),detalle_inversion:this.fb.group({codigo:[{value:"",disabled:!0}],anio:[{value:null,disabled:!0}],precio:[{value:null,disabled:!0}],cuotas:[{value:null,disabled:!0}]}),gastos_operativos_venta:this.fb.array([]),detalles_pago:this.fb.array([]),fecha_entrega_estimada:[null],fecha_entrega_efectiva:[null],estado_operacion:["Iniciada",f.required],observaciones_generales:[""],costo_vehiculo_para_empresa:[null,[f.required,f.min(0)]],comision_empleado_monto:[null,f.min(0)],comision_empleado_porcentaje:[null,[f.min(0),f.max(100)]]}),this.setupConditionalValidation();let e=this.ventaForm.get("detalle_financiacion_propia");e.get("monto_financiado")?.valueChanges.subscribe(()=>this.calcularFinanciacion()),e.get("tasa_interes")?.valueChanges.subscribe(()=>this.calcularFinanciacion()),e.get("cantidad_cuotas")?.valueChanges.subscribe(()=>this.calcularFinanciacion()),vt([this.ventaForm.get("monto_total_credito").valueChanges,this.ventaForm.get("cantidad_cuotas_credito").valueChanges]).subscribe(()=>{let n=Number(this.ventaForm.get("monto_total_credito")?.value),l=Number(this.ventaForm.get("cantidad_cuotas_credito")?.value);n>0&&l>0&&this.ventaForm.get("monto_cuota_credito")?.setValue(Number((n/l).toFixed(2)),{emitEvent:!1})}),this.agregarDetallePago()}checkEditMode(){this.routeSubscription=this.route.paramMap.pipe($(()=>this.isLoading=!0),ie(i=>{let e=i.get("idVenta");return e?(this.isEditMode=!0,this.currentVentaId=e,this.ventaService.getVentaById(Number(e))):(this.isEditMode=!1,this.currentVentaId=null,this.isLoading=!1,this.gastosOperativosFormArray.length===0&&this.addGasto(),Ge(null))})).subscribe(i=>{this.isEditMode&&i&&this.populateForm(i),this.isLoading=!1})}populateForm(i){this.ventaForm.patchValue({fecha_operacion:i.fechaOperacion,empleado_vendedor_id:i.empleadoVendedor?.idEmpleado,clasificacion_vehiculo_vendido:i.clasificacionVehiculoVendido,descripcion_vehiculo_manual:i.descripcionVehiculoManual,precio_vehiculo_pactado:this.toNumber(i.precioVehiculoPactado),cliente_id:i.cliente?.idCliente,cliente_nombre_razon_social:i.cliente?.nombreRazonSocial,cliente_dni_cuit:i.cliente?.dniCuit,cliente_telefono:i.cliente?.telefono,cliente_email:i.cliente?.email,cliente_direccion:i.cliente?.direccion,cliente_localidad:i.cliente?.localidad,cliente_provincia:i.cliente?.provincia,cliente_condicion_iva:i.cliente?.condicionIva,metodo_pago_principal:i.metodoPagoPrincipal,monto_total_cobrado:this.toNumber(i.montoTotalCobrado),costo_vehiculo_para_empresa:this.toNumber(i.costoVehiculoParaEmpresa),comision_empleado_monto:this.toNumber(i.comisionEmpleadoMonto),comision_empleado_porcentaje:this.toNumber(i.comisionEmpleadoPorcentaje),fecha_entrega_estimada:i.fechaEntregaEstimada,fecha_entrega_efectiva:i.fechaEntregaEfectiva,estado_operacion:i.estadoOperacion,observaciones_generales:i.observacionesGenerales});let e=i.pagoPrincipalCredito||{};this.ventaForm.patchValue({monto_total_credito:this.toNumber(e.montoTotalCredito??i.montoTotalCredito),cantidad_cuotas_credito:this.toNumber(e.cantidadCuotasCredito??i.cantidadCuotasCredito),monto_cuota_credito:this.toNumber(e.montoCuotaCredito??i.montoCuotaCredito)}),this.gastosOperativosFormArray.clear(),i.gastosOperativosVenta?.length>0?i.gastosOperativosVenta.forEach(l=>{this.gastosOperativosFormArray.push(this.fb.group({descripcion:[l.descripcion||"",f.required],monto:[this.toNumber(l.monto),[f.required,f.min(.01)]]}))}):this.addGasto(),this.ventaForm.get("tipo_financiacion")?.setValue(i.tipoFinanciacion,{emitEvent:!0}),i.tipoFinanciacion==="Propia"&&i.detalleFinanciacionPropia&&this.ventaForm.get("detalle_financiacion_propia")?.patchValue({monto_financiado:this.toNumber(i.detalleFinanciacionPropia.montoFinanciado),cantidad_cuotas:this.toNumber(i.detalleFinanciacionPropia.cantidadCuotas),monto_total:this.toNumber(i.detalleFinanciacionPropia.montoTotalConInteres),valor_cuota:this.toNumber(i.detalleFinanciacionPropia.valorCuota),tasa_interes:i?.detalleFinanciacionPropia?.tasaInteresNominalAnual}),i.tipoFinanciacion==="Prendaria"&&i.detalleFinanciacionPrendaria&&this.ventaForm.get("detalle_financiacion_prendaria")?.patchValue({entidadFinanciera:i.detalleFinanciacionPrendaria.entidadFinanciera,monto_credito:this.toNumber(i.detalleFinanciacionPrendaria.montoCreditoOtorgado),plazo_meses:this.toNumber(i.detalleFinanciacionPrendaria.plazoMeses),valor_cuota_estimado:this.toNumber(i.detalleFinanciacionPrendaria.valorCuotaEstimado),numero_contrato_o_referencia:i.detalleFinanciacionPrendaria.numeroContratoORef}),i.tipoFinanciacion==="Sistema de Inversion"&&i.detalleInversion&&this.ventaForm.get("detalle_inversion")?.patchValue({codigo:i.detalleInversion.codigo,anio:this.toNumber(i.detalleInversion.anio),precio:this.toNumber(i.detalleInversion.precio),cuotas:this.toNumber(i.detalleInversion.cuotas)}),this.detallesPago.clear();let n=i.detallesPago??[];Array.isArray(n)&&n.length?n.forEach(l=>{let d=this.crearDetallePagoGroup();d.patchValue({tipo:l.tipo??l.metodo??"",observacion:l.observacion??l.referencia??"",monto:this.toNumber(l.monto),monto_total_credito:this.toNumber(l.montoTotalCredito),cuotas:this.toNumber(l.cuotas),monto_cuota:this.toNumber(l.montoCuota)}),this.detallesPago.push(d),this.setupCalculoCuotaDetalle(d)}):this.agregarDetallePago()}setupConditionalValidation(){let i=this.ventaForm.get("tipo_financiacion"),e=this.ventaForm.get("detalle_financiacion_propia"),n=this.ventaForm.get("detalle_financiacion_prendaria"),l=this.ventaForm.get("detalle_inversion");i?.valueChanges.subscribe(d=>{e.disable(),n.disable(),l.disable(),d==="Propia"?e.enable():d==="Prendaria"?n.enable():d==="Sistema de Inversion"&&l.enable()})}get gastosOperativosFormArray(){return this.ventaForm.get("gastos_operativos_venta")}get tipoFinanciacionSeleccionado(){return this.ventaForm.get("tipo_financiacion")?.value}get detallesPago(){return this.ventaForm.get("detalles_pago")}addGasto(i){this.gastosOperativosFormArray.push(this.fb.group({descripcion:[i?.descripcion||"",f.required],monto:[this.toNumber(i?.monto)??null,[f.required,f.min(.01)]]}))}addGastoOperativo(){this.addGasto()}removeGastoOperativo(i){this.gastosOperativosFormArray.removeAt(i)}crearDetallePagoGroup(){return this.fb.group({tipo:[""],monto:[null,f.min(0)],monto_total_credito:[null],cuotas:[null],monto_cuota:[null],observacion:[""]})}setupCalculoCuotaDetalle(i){let e=vt([i.get("monto_total_credito").valueChanges,i.get("cuotas").valueChanges]).subscribe(()=>{let n=Number(i.get("monto_total_credito")?.value),l=Number(i.get("cuotas")?.value);n>0&&l>0&&i.get("monto_cuota")?.setValue(Number((n/l).toFixed(2)),{emitEvent:!1})});this.detalleSubs.push(e)}agregarDetallePago(){let i=this.crearDetallePagoGroup();this.detallesPago.push(i),this.setupCalculoCuotaDetalle(i)}quitarDetallePago(i){this.detallesPago.removeAt(i)}onSubmit(){if(console.log("Datos que se env\xEDan:",this.ventaForm.value),this.ventaForm.invalid){this.ventaForm.markAllAsTouched();return}this.isLoading=!0;let i=this.ventaForm.getRawValue(),e=(i.detalles_pago||[]).map(l=>this.incluyeCredito(l?.tipo)||!!l.monto_total_credito||!!l.cuotas||!!l.monto_cuota?{tipo:l.tipo,montoTotalCredito:this.toNumber(l.monto_total_credito),cuotas:this.toNumber(l.cuotas),montoCuota:this.toNumber(l.monto_cuota),observacion:l.observacion}:{tipo:l.tipo,monto:this.toNumber(l.monto),observacion:l.observacion}),n={fechaOperacion:i.fecha_operacion,clasificacionVehiculoVendido:i.clasificacion_vehiculo_vendido,descripcionVehiculoManual:i.descripcion_vehiculo_manual,precioVehiculoPactado:this.toNumber(i.precio_vehiculo_pactado),metodoPagoPrincipal:i.metodo_pago_principal,montoTotalCobrado:this.toNumber(i.monto_total_cobrado),tipoFinanciacion:i.tipo_financiacion,costoVehiculoParaEmpresa:this.toNumber(i.costo_vehiculo_para_empresa),comisionEmpleadoMonto:this.toNumber(i.comision_empleado_monto),comisionEmpleadoPorcentaje:this.toNumber(i.comision_empleado_porcentaje),estadoOperacion:i.estado_operacion,observacionesGenerales:i.observaciones_generales,fechaEntregaEstimada:i.fecha_entrega_estimada||null,fechaEntregaEfectiva:i.fecha_entrega_efectiva||null,cliente:{idCliente:this.isEditMode?i.cliente_id:null,nombreRazonSocial:i.cliente_nombre_razon_social,dniCuit:i.cliente_dni_cuit,telefono:i.cliente_telefono,email:i.cliente_email,direccion:i.cliente_direccion,localidad:i.cliente_localidad,provincia:i.cliente_provincia,condicionIva:i.cliente_condicion_iva},empleadoVendedor:{idEmpleado:Number(i.empleado_vendedor_id)},gastosOperativosVenta:(i.gastos_operativos_venta||[]).filter(l=>l&&l.descripcion&&l.monto!==null&&l.monto!=="").map(l=>({descripcion:l.descripcion,monto:this.toNumber(l.monto)})),detalleFinanciacionPropia:i.tipo_financiacion==="Propia"?{montoFinanciado:this.toNumber(i.detalle_financiacion_propia.monto_financiado),anticipoRecibido:this.toNumber(i.detalle_financiacion_propia.anticipo),cantidadCuotas:this.toNumber(i.detalle_financiacion_propia.cantidad_cuotas),valorCuotaAproximado:this.toNumber(i.detalle_financiacion_propia.valor_cuota_aproximado),tasaInteresNominalAnual:this.toNumber(i.detalle_financiacion_propia.tasa_interes_nominal_anual),costoFinancieroTotal:this.toNumber(i.detalle_financiacion_propia.costo_financiero_total),condicionesAdicionales:i.detalle_financiacion_propia.condiciones,montoTotalConInteres:this.toNumber(i.detalle_financiacion_propia.monto_total),valorCuota:this.toNumber(i.detalle_financiacion_propia.valor_cuota)}:null,detalleFinanciacionPrendaria:i.tipo_financiacion==="Prendaria"?{entidadFinanciera:i.detalle_financiacion_prendaria.entidadFinanciera,montoCreditoOtorgado:this.toNumber(i.detalle_financiacion_prendaria.monto_credito),plazoMeses:this.toNumber(i.detalle_financiacion_prendaria.plazo_meses),valorCuotaEstimado:this.toNumber(i.detalle_financiacion_prendaria.valor_cuota_estimado),numeroContratoORef:i.detalle_financiacion_prendaria.numero_contrato_o_referencia}:null,detalleInversion:i.tipo_financiacion==="Sistema de Inversion"?{codigo:i.detalle_inversion.codigo,anio:this.toNumber(i.detalle_inversion.anio),precio:this.toNumber(i.detalle_inversion.precio),cuotas:this.toNumber(i.detalle_inversion.cuotas)}:null,pagoPrincipalCredito:{montoTotalCredito:this.toNumber(i.monto_total_credito),cantidadCuotasCredito:this.toNumber(i.cantidad_cuotas_credito),montoCuotaCredito:this.toNumber(i.monto_cuota_credito)},detallesPago:e};if(console.log("[DEBUG Rentabilidad] costo:",n.costoVehiculoParaEmpresa,"comisionMonto:",n.comisionEmpleadoMonto,"comisionPorc:",n.comisionEmpleadoPorcentaje,"gastos:",n.gastosOperativosVenta),this.isEditMode&&this.currentVentaId){let l=$t(Wt({},n),{idVenta:Number(this.currentVentaId)});this.ventaService.updateVenta(l).subscribe({next:()=>{this.isLoading=!1,alert("\xA1Venta actualizada exitosamente!"),this.router.navigate(["/ventas/detalle",this.currentVentaId])},error:d=>{console.error("Error del backend:",d),this.handleErrorOnSubmit(d,"actualizar")}})}else this.ventaService.addVenta(n).subscribe({next:()=>{this.isLoading=!1,alert("\xA1Venta registrada exitosamente!"),this.initializeFormDefaults(),this.router.navigate(["/ventas"])},error:l=>this.handleErrorOnSubmit(l,"registrar")})}initializeFormDefaults(){this.ventaForm.reset();let i=new Date().toISOString().split("T")[0];this.ventaForm.patchValue({fecha_operacion:i,cliente_localidad:"San Salvador de Jujuy",cliente_provincia:"Jujuy",cliente_condicion_iva:"Consumidor Final",tipo_financiacion:"Sin Financiacion",estado_operacion:"Iniciada"}),this.gastosOperativosFormArray.clear(),this.addGasto(),this.detallesPago.clear(),this.agregarDetallePago()}handleErrorOnSubmit(i,e){this.isLoading=!1,console.error(`Error al ${e} la venta`,i),alert(`Error al ${e} la venta.`)}calcularFinanciacion(){let i=this.ventaForm.get("detalle_financiacion_propia"),e=this.toNumber(i.get("monto_financiado")?.value),n=this.toNumber(i.get("tasa_interes")?.value),l=this.toNumber(i.get("cantidad_cuotas")?.value);if(e!=null&&n!=null&&l!=null&&l>0){let d=e+e*n/100,u=d/l;i.get("monto_total")?.setValue(Number(d.toFixed(2))),i.get("valor_cuota")?.setValue(Number(u.toFixed(2)))}else i.get("monto_total")?.setValue(null),i.get("valor_cuota")?.setValue(null)}setupGananciaPreviewWatcher(){let e=["precio_vehiculo_pactado","costo_vehiculo_para_empresa","comision_empleado_monto","comision_empleado_porcentaje"].map(n=>this.ventaForm.get(n)).filter(n=>!!n).map(n=>n.valueChanges);e.push(this.gastosOperativosFormArray.valueChanges),this.gananciaSub?.unsubscribe(),this.gananciaSub=Y(...e).subscribe(()=>this.recalcularGananciaPreview()),this.recalcularGananciaPreview()}recalcularGananciaPreview(){let i=this.toNumber(this.ventaForm.get("precio_vehiculo_pactado")?.value)??0,e=this.toNumber(this.ventaForm.get("costo_vehiculo_para_empresa")?.value)??0,n=this.toNumber(this.ventaForm.get("comision_empleado_monto")?.value),l=this.toNumber(this.ventaForm.get("comision_empleado_porcentaje")?.value),d=n!=null&&n>0?n:l!=null&&l>0?i*l/100:0,V=(this.gastosOperativosFormArray.getRawValue()||[]).reduce((ze,Be)=>{let Te=this.toNumber(Be?.monto)??0;return ze+(Te>0?Te:0)},0),M=i-e-d-V;this.gananciaPreview=Number(M.toFixed(2))}static \u0275fac=function(e){return new(e||a)(T(la),T(ee),T(ka),T(ve),T(Xe))};static \u0275cmp=E({type:a,selectors:[["app-venta-form"]],decls:209,vars:59,consts:[["pickerFechaOperacion",""],["pickerFechaEst",""],["pickerFechaEfe",""],[2,"margin","20px"],[3,"ngSubmit","formGroup"],[3,"expanded"],[1,"form-row"],["appearance","fill",1,"form-field"],["matInput","","formControlName","fecha_operacion","required","",3,"matDatepicker"],["matSuffix","",3,"for"],[4,"ngIf"],["formControlName","empleado_vendedor_id","required",""],["disabled","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["formControlName","clasificacion_vehiculo_vendido","required",""],["matInput","","type","number","formControlName","precio_vehiculo_pactado","required","","placeholder","Ej: 25000000"],["appearance","fill",2,"width","100%"],["matInput","","formControlName","descripcion_vehiculo_manual","placeholder","Ej: Color, patente, versi\xF3n espec\xEDfica, etc."],["matInput","","formControlName","cliente_nombre_razon_social","required",""],["matInput","","formControlName","cliente_dni_cuit","required",""],["matInput","","type","tel","formControlName","cliente_telefono","placeholder","Ej: 3884123456"],["matInput","","type","email","formControlName","cliente_email","placeholder","Ej: correo@dominio.com"],["matInput","","formControlName","cliente_direccion","placeholder","Ej: Av. Siempre Viva 742"],["matInput","","formControlName","cliente_localidad"],["matInput","","formControlName","cliente_provincia"],["appearance","fill",1,"form-field",2,"width","auto"],["formControlName","cliente_condicion_iva","required",""],["matInput","","formControlName","metodo_pago_principal","required","","placeholder","Ej: Efectivo + Cr\xE9dito Banco X"],["matInput","","type","number","formControlName","monto_total_cobrado","required","","placeholder","Ej: 5000000"],["class","form-row",4,"ngIf"],[2,"margin","8px 0"],[1,"form-row",2,"align-items","center"],[1,"form-field",2,"flex","1"],["mat-stroked-button","","color","primary","type","button",3,"click"],["formArrayName","detalles_pago"],[3,"formGroupName",4,"ngFor","ngForOf"],["appearance","fill",2,"width","100%","margin-bottom","16px"],["formControlName","tipo_financiacion","required",""],["formGroupName","detalle_financiacion_propia",4,"ngIf"],["formGroupName","detalle_inversion",4,"ngIf"],["formGroupName","detalle_financiacion_prendaria",4,"ngIf"],["matInput","","type","number","formControlName","costo_vehiculo_para_empresa","required",""],[1,"ganancia-preview",2,"margin","8px 0","padding","12px","border-radius","8px","border","1px solid rgba(0,0,0,0.08)","display","flex","align-items","center","gap","8px",3,"ngClass"],[2,"font-weight","600"],[2,"opacity",".75"],["matInput","","type","number","formControlName","comision_empleado_monto"],["matInput","","type","number","formControlName","comision_empleado_porcentaje","placeholder","Ej: 5 para 5%"],["formArrayName","gastos_operativos_venta"],["class","gasto-item form-row",3,"formGroupName",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary","type","button",2,"margin-top","8px",3,"click"],["matInput","","formControlName","fecha_entrega_estimada",3,"matDatepicker"],["matInput","","formControlName","fecha_entrega_efectiva",3,"matDatepicker"],["formControlName","estado_operacion","required",""],["matInput","","formControlName","observaciones_generales","rows","3"],[2,"margin-top","20px","text-align","right"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["disabled",""],[3,"value"],["matInput","","type","number","formControlName","monto_total_credito","placeholder","Ej: 1200000"],["matInput","","type","number","formControlName","cantidad_cuotas_credito","placeholder","Ej: 12"],["matInput","","type","number","formControlName","monto_cuota_credito","placeholder","Ej: 100000"],[3,"formGroupName"],["matInput","","formControlName","tipo","placeholder","Ej: Efectivo, Transferencia, Cr\xE9dito Banco X"],["appearance","fill","class","form-field",4,"ngIf"],["appearance","fill",1,"form-field",2,"flex","1"],["matInput","","formControlName","observacion","placeholder","Ej: se\xF1a, banco, referencia, etc."],["mat-button","","color","warn","type","button",3,"click"],[2,"margin","8px 0 16px"],["matInput","","type","number","formControlName","monto","placeholder","Ej: 250000"],["matInput","","type","number","formControlName","cuotas","placeholder","Ej: 12"],["matInput","","type","number","formControlName","monto_cuota","placeholder","Ej: 100000"],["formGroupName","detalle_financiacion_propia"],["matInput","","type","number","formControlName","monto_financiado"],["matInput","","type","number","formControlName","tasa_interes","placeholder","Ej: 30"],["matInput","","type","number","formControlName","cantidad_cuotas"],["matInput","","type","number","formControlName","monto_total"],["matInput","","type","number","formControlName","valor_cuota"],["formGroupName","detalle_inversion"],["matInput","","formControlName","codigo"],["matInput","","type","number","formControlName","anio"],["matInput","","type","number","formControlName","precio"],["matInput","","type","number","formControlName","cuotas"],["formGroupName","detalle_financiacion_prendaria"],["matInput","","formControlName","entidadFinanciera","placeholder","Ej: Banco Macro"],["matInput","","type","number","formControlName","monto_credito"],["matInput","","type","number","formControlName","plazo_meses"],["matInput","","type","number","formControlName","valor_cuota_estimado"],["matInput","","formControlName","numero_contrato_o_referencia"],["matInput","","formControlName","otro_banco_nombre"],[1,"gasto-item","form-row",3,"formGroupName"],["appearance","outline",1,"form-field",2,"flex-grow","3"],["matInput","","formControlName","descripcion","required",""],["appearance","outline",1,"form-field",2,"flex-grow","1"],["matInput","","type","number","formControlName","monto","required",""],["mat-icon-button","","color","warn","type","button","matTooltip","Eliminar Gasto",1,"remove-gasto-btn",3,"click"]],template:function(e,n){if(e&1){let l=O();o(0,"div",3)(1,"mat-card")(2,"mat-card-title"),r(3,"Registrar Nueva Venta"),t(),o(4,"mat-card-content")(5,"form",4),x("ngSubmit",function(){return y(l),C(n.onSubmit())}),o(6,"mat-expansion-panel",5)(7,"mat-expansion-panel-header")(8,"mat-panel-title"),r(9," Informaci\xF3n General de la Venta "),t()(),o(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),r(13,"Fecha de Operaci\xF3n"),t(),p(14,"input",8)(15,"mat-datepicker-toggle",9)(16,"mat-datepicker",null,0),m(18,Pn,2,0,"mat-error",10),t(),o(19,"mat-form-field",7)(20,"mat-label"),r(21,"Empleado Vendedor"),t(),o(22,"mat-select",11),m(23,An,2,0,"mat-option",12),b(24,"async"),m(25,Vn,2,2,"mat-option",13),b(26,"async"),t(),m(27,Ln,2,0,"mat-error",10),t()()(),o(28,"mat-expansion-panel",5)(29,"mat-expansion-panel-header")(30,"mat-panel-title"),r(31," Datos del Veh\xEDculo Vendido "),t()(),o(32,"div",6)(33,"mat-form-field",7)(34,"mat-label"),r(35,"Clasificaci\xF3n Veh\xEDculo"),t(),o(36,"mat-select",14),m(37,Nn,2,2,"mat-option",13),t(),m(38,Rn,2,0,"mat-error",10),t(),o(39,"mat-form-field",7)(40,"mat-label"),r(41,"Precio Veh\xEDculo Pactado ($)"),t(),p(42,"input",15),m(43,zn,2,0,"mat-error",10)(44,Bn,2,0,"mat-error",10),t()(),o(45,"mat-form-field",16)(46,"mat-label"),r(47,"Descripci\xF3n Adicional del Veh\xEDculo (Opcional)"),t(),p(48,"textarea",17),t()(),o(49,"mat-expansion-panel",5)(50,"mat-expansion-panel-header")(51,"mat-panel-title"),r(52," Datos del Cliente "),t()(),o(53,"div",6)(54,"mat-form-field",7)(55,"mat-label"),r(56,"Nombre / Raz\xF3n Social"),t(),p(57,"input",18),m(58,jn,2,0,"mat-error",10),t(),o(59,"mat-form-field",7)(60,"mat-label"),r(61,"DNI / CUIT"),t(),p(62,"input",19),m(63,qn,2,0,"mat-error",10),t()(),o(64,"div",6)(65,"mat-form-field",7)(66,"mat-label"),r(67,"Tel\xE9fono"),t(),p(68,"input",20),t(),o(69,"mat-form-field",7)(70,"mat-label"),r(71,"Email"),t(),p(72,"input",21),m(73,Gn,2,0,"mat-error",10),t()(),o(74,"mat-form-field",16)(75,"mat-label"),r(76,"Direcci\xF3n"),t(),p(77,"input",22),t(),o(78,"div",6)(79,"mat-form-field",7)(80,"mat-label"),r(81,"Localidad"),t(),p(82,"input",23),t(),o(83,"mat-form-field",7)(84,"mat-label"),r(85,"Provincia"),t(),p(86,"input",24),t()(),o(87,"mat-form-field",25)(88,"mat-label"),r(89,"Condici\xF3n IVA"),t(),o(90,"mat-select",26),m(91,Hn,2,2,"mat-option",13),t(),m(92,Qn,2,0,"mat-error",10),t()(),o(93,"mat-expansion-panel",5)(94,"mat-expansion-panel-header")(95,"mat-panel-title"),r(96," Detalles del Pago "),t()(),o(97,"div",6)(98,"mat-form-field",7)(99,"mat-label"),r(100,"M\xE9todo de Pago Principal (manual)"),t(),p(101,"input",27),m(102,Wn,2,0,"mat-error",10),t(),o(103,"mat-form-field",7)(104,"mat-label"),r(105,"Monto Total Cobrado ($)"),t(),p(106,"input",28),m(107,$n,2,0,"mat-error",10)(108,Un,2,0,"mat-error",10),t()(),m(109,Kn,13,0,"div",29),p(110,"mat-divider",30),o(111,"div",31)(112,"div",32)(113,"strong"),r(114,"Detalles de pago adicionales"),t()(),o(115,"button",33),x("click",function(){return y(l),C(n.agregarDetallePago())}),o(116,"mat-icon"),r(117,"add_circle_outline"),t(),r(118," Agregar detalle "),t()(),o(119,"div",34),m(120,Zn,18,3,"div",35),t()(),o(121,"mat-expansion-panel",5)(122,"mat-expansion-panel-header")(123,"mat-panel-title"),r(124," Detalles de Financiaci\xF3n "),t()(),o(125,"mat-form-field",36)(126,"mat-label"),r(127,"Tipo de Financiaci\xF3n"),t(),o(128,"mat-select",37),m(129,Jn,2,2,"mat-option",13),t(),m(130,eo,2,0,"mat-error",10),t(),m(131,no,28,3,"div",38)(132,oo,21,0,"div",39)(133,mo,29,4,"div",40),t(),o(134,"mat-expansion-panel",5)(135,"mat-expansion-panel-header")(136,"mat-panel-title"),r(137," Rentabilidad y Gastos de la Venta "),t()(),o(138,"div",6)(139,"mat-form-field",7)(140,"mat-label"),r(141,"Costo Veh\xEDculo para Empresa ($)"),t(),p(142,"input",41),m(143,po,2,0,"mat-error",10)(144,ho,2,0,"mat-error",10),t()(),o(145,"div",42)(146,"mat-icon"),r(147,"trending_up"),t(),o(148,"div")(149,"div")(150,"strong"),r(151,"Ganancia Neta (preview):"),t(),o(152,"span",43),r(153),b(154,"currency"),t()(),o(155,"small",44),r(156,"precio - costo - comisi\xF3n - gastos"),t()()(),o(157,"div",6)(158,"mat-form-field",7)(159,"mat-label"),r(160,"Comisi\xF3n Empleado ($) (Monto)"),t(),p(161,"input",45),m(162,uo,2,0,"mat-error",10),t(),o(163,"mat-form-field",7)(164,"mat-label"),r(165,"Comisi\xF3n Empleado (%) (Porcentaje)"),t(),p(166,"input",46),m(167,_o,2,0,"mat-error",10),t()(),o(168,"h4"),r(169,"Gastos Operativos de la Venta"),t(),o(170,"div",47),m(171,vo,14,5,"div",48),t(),o(172,"button",49),x("click",function(){return y(l),C(n.addGastoOperativo())}),o(173,"mat-icon"),r(174,"add_circle_outline"),t(),r(175,` Agregar Gasto Operativo
`),t()(),o(176,"mat-expansion-panel",5)(177,"mat-expansion-panel-header")(178,"mat-panel-title"),r(179," Otros Detalles de la Operaci\xF3n "),t()(),o(180,"div",6)(181,"mat-form-field",7)(182,"mat-label"),r(183,"Fecha Entrega Estimada"),t(),p(184,"input",50)(185,"mat-datepicker-toggle",9)(186,"mat-datepicker",null,1),t(),o(188,"mat-form-field",7)(189,"mat-label"),r(190,"Fecha Entrega Efectiva"),t(),p(191,"input",51)(192,"mat-datepicker-toggle",9)(193,"mat-datepicker",null,2),t()(),o(195,"div",6)(196,"mat-form-field",7)(197,"mat-label"),r(198,"Estado de la Operaci\xF3n"),t(),o(199,"mat-select",52),m(200,bo,2,2,"mat-option",13),t(),m(201,xo,2,0,"mat-error",10),t()(),o(202,"mat-form-field",16)(203,"mat-label"),r(204,"Observaciones Generales (Opcional)"),t(),p(205,"textarea",53),t()(),o(206,"div",54)(207,"button",55),r(208," Registrar Venta "),t()()()()()()}if(e&2){let l,d,u,V,M,ze,Be,Te,Pt,At,Vt,Lt,Nt,G,Rt,zt,Bt,le,jt,je,qt,Gt=j(17),Ht=j(187),Qt=j(194);s(5),c("formGroup",n.ventaForm),s(),c("expanded",!0),s(8),c("matDatepicker",Gt),s(),c("for",Gt),s(3),c("ngIf",(l=n.ventaForm.get("fecha_operacion"))==null?null:l.hasError("required")),s(5),c("ngIf",!((d=yt(24,47,n.empleados$))!=null&&d.length)),s(2),c("ngForOf",yt(26,49,n.empleados$)),s(2),c("ngIf",((u=n.ventaForm.get("empleado_vendedor_id"))==null?null:u.hasError("required"))&&((u=n.ventaForm.get("empleado_vendedor_id"))==null?null:u.touched)),s(),c("expanded",!0),s(9),c("ngForOf",n.clasificacionesVehiculo),s(),c("ngIf",(V=n.ventaForm.get("clasificacion_vehiculo_vendido"))==null?null:V.hasError("required")),s(5),c("ngIf",(M=n.ventaForm.get("precio_vehiculo_pactado"))==null?null:M.hasError("required")),s(),c("ngIf",(ze=n.ventaForm.get("precio_vehiculo_pactado"))==null?null:ze.hasError("min")),s(5),c("expanded",!0),s(9),c("ngIf",(Be=n.ventaForm.get("cliente_nombre_razon_social"))==null?null:Be.hasError("required")),s(5),c("ngIf",(Te=n.ventaForm.get("cliente_dni_cuit"))==null?null:Te.hasError("required")),s(10),c("ngIf",(Pt=n.ventaForm.get("cliente_email"))==null?null:Pt.hasError("email")),s(18),c("ngForOf",n.condicionesIVA),s(),c("ngIf",(At=n.ventaForm.get("cliente_condicion_iva"))==null?null:At.hasError("required")),s(),c("expanded",!0),s(9),c("ngIf",(Vt=n.ventaForm.get("metodo_pago_principal"))==null?null:Vt.hasError("required")),s(5),c("ngIf",(Lt=n.ventaForm.get("monto_total_cobrado"))==null?null:Lt.hasError("required")),s(),c("ngIf",(Nt=n.ventaForm.get("monto_total_cobrado"))==null?null:Nt.hasError("min")),s(),c("ngIf",((G=n.ventaForm.get("metodo_pago_principal"))==null||G.value==null||(G=G.value.toLowerCase())==null?null:G.includes("credito"))||((G=n.ventaForm.get("metodo_pago_principal"))==null||G.value==null||(G=G.value.toLowerCase())==null?null:G.includes("cr\xE9dito"))),s(11),c("ngForOf",n.detallesPago.controls),s(),c("expanded",!0),s(8),c("ngForOf",n.tiposDeFinanciacion),s(),c("ngIf",(Rt=n.ventaForm.get("tipo_financiacion"))==null?null:Rt.hasError("required")),s(),c("ngIf",n.tipoFinanciacionSeleccionado==="Propia"),s(),c("ngIf",n.tipoFinanciacionSeleccionado==="Sistema de Inversion"),s(),c("ngIf",n.tipoFinanciacionSeleccionado==="Prendaria"),s(),c("expanded",!0),s(9),c("ngIf",(zt=n.ventaForm.get("costo_vehiculo_para_empresa"))==null?null:zt.hasError("required")),s(),c("ngIf",(Bt=n.ventaForm.get("costo_vehiculo_para_empresa"))==null?null:Bt.hasError("min")),s(),c("ngClass",mi(56,Tn,((le=n.gananciaPreview)!==null&&le!==void 0?le:0)<0,((le=n.gananciaPreview)!==null&&le!==void 0?le:0)>=0)),s(8),v(" ",I(154,51,n.gananciaPreview,"ARS","symbol","1.0-0")," "),s(9),c("ngIf",(jt=n.ventaForm.get("comision_empleado_monto"))==null?null:jt.hasError("min")),s(5),c("ngIf",((je=n.ventaForm.get("comision_empleado_porcentaje"))==null?null:je.hasError("min"))||((je=n.ventaForm.get("comision_empleado_porcentaje"))==null?null:je.hasError("max"))),s(4),c("ngForOf",n.gastosOperativosFormArray.controls),s(5),c("expanded",!0),s(8),c("matDatepicker",Ht),s(),c("for",Ht),s(6),c("matDatepicker",Qt),s(),c("for",Qt),s(8),c("ngForOf",n.estadosOperacion),s(),c("ngIf",(qt=n.ventaForm.get("estado_operacion"))==null?null:qt.hasError("required")),s(6),c("disabled",n.ventaForm.invalid)}},dependencies:[J,Ue,Ke,ge,ui,fe,nt,Ji,Oe,it,Fe,Ki,ra,at,aa,ta,ia,K,De,lt,ot,ca,rt,ct,st,Ft,Ot,Le,Se,Ee,Ze,Ca,ba,xa,ya,wa,ke,ye,we,Ce,za,Dt,Na,Ra,Ie,Me,ht,tt,et,Ne],styles:['.form-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;margin-bottom:16px}.form-field[_ngcontent-%COMP%]{flex:1;min-width:250px}mat-form-field[style*="width: 100%"][_ngcontent-%COMP%]{flex-basis:100%}mat-expansion-panel[_ngcontent-%COMP%]{margin-bottom:16px}.gasto-item[_ngcontent-%COMP%]{align-items:center;margin-bottom:8px;padding:8px;border:1px solid #eee;border-radius:4px}.remove-gasto-btn[_ngcontent-%COMP%]{margin-left:8px}.ganancia-preview.positiva[_ngcontent-%COMP%]{background:#eaf7ea;color:#1f7a1f}.ganancia-preview.negativa[_ngcontent-%COMP%]{background:#fdecec;color:#b32424}']})};function yo(a,i){if(a&1){let e=O();o(0,"button",25),x("click",function(){y(e);let l=g();return C(l.limpiarFiltro())}),o(1,"mat-icon"),r(2,"close"),t()()}}function Co(a,i){a&1&&(o(0,"th",26),r(1," Fecha "),t())}function wo(a,i){if(a&1&&(o(0,"td",27),r(1),b(2,"date"),t()),a&2){let e=i.$implicit;s(),v(" ",P(2,1,e.fechaOperacion,"dd/MM/yy")," ")}}function ko(a,i){a&1&&(o(0,"th",26),r(1," Cliente "),t())}function Eo(a,i){if(a&1&&(o(0,"td",27),r(1),t()),a&2){let e=i.$implicit;s(),v(" ",e.nombreCliente," ")}}function So(a,i){a&1&&(o(0,"th",26),r(1," Vendedor "),t())}function Mo(a,i){if(a&1&&(o(0,"td",27),r(1),t()),a&2){let e=i.$implicit;s(),v(" ",e.nombreVendedor," ")}}function Io(a,i){a&1&&(o(0,"th",26),r(1," Producto "),t())}function Oo(a,i){if(a&1&&(o(0,"td",27),r(1),t()),a&2){let e=i.$implicit;s(),v(" ",e.clasificacionVehiculo," ")}}function Fo(a,i){a&1&&(o(0,"th",28),r(1," Precio ($) "),t())}function Do(a,i){if(a&1&&(o(0,"td",29),r(1),b(2,"currency"),t()),a&2){let e=i.$implicit;s(),v(" ",I(2,1,e.precioPactado,"ARS","symbol","1.0-0")," ")}}function To(a,i){a&1&&(o(0,"th",26),r(1," Estado "),t())}function Po(a,i){if(a&1&&(o(0,"td",27),r(1),t()),a&2){let e=i.$implicit;s(),v(" ",e.estadoOperacion," ")}}function Ao(a,i){a&1&&(o(0,"th",30),r(1," Acciones "),t())}function Vo(a,i){if(a&1){let e=O();o(0,"td",31)(1,"button",32),x("click",function(){let l=y(e).$implicit,d=g();return C(d.verDetalleVenta(l.idVenta))}),o(2,"mat-icon"),r(3,"visibility"),t()(),o(4,"button",33),x("click",function(){let l=y(e).$implicit,d=g();return C(d.editarVenta(l.idVenta))}),o(5,"mat-icon"),r(6,"edit"),t()()()}}function Lo(a,i){a&1&&p(0,"tr",34)}function No(a,i){a&1&&p(0,"tr",35)}function Ro(a,i){if(a&1&&(o(0,"tr",36)(1,"td",37),r(2," No se encontraron ventas con ese criterio. "),t()()),a&2){let e=g();s(),w("colspan",e.displayedColumns.length)}}var _t=class a{constructor(i,e){this.ventaService=i;this.router=e;this.ventas$=this.ventaService.getVentas()}ventas$;displayedColumns=["fechaOperacion","nombreCliente","nombreVendedor","clasificacionVehiculo","precioPactado","estadoOperacion","acciones"];filtroControl=new Xi("");filtroSubscription;ngOnInit(){this.filtroSubscription=this.filtroControl.valueChanges.pipe(Zt(400),Jt(),$(i=>this.aplicarFiltro(i))).subscribe()}ngOnDestroy(){this.filtroSubscription?.unsubscribe()}aplicarFiltro(i){let e=i||"";this.ventaService.cargarVentasIniciales(e)}limpiarFiltro(){this.filtroControl.setValue("")}verDetalleVenta(i){this.router.navigate(["/ventas/detalle",i])}editarVenta(i){this.router.navigate(["/ventas/editar",i])}eliminarVenta(i){confirm("\xBFEst\xE1 seguro de que desea eliminar esta venta?")&&this.ventaService.deleteVenta(i).subscribe({next:()=>alert("Venta eliminada."),error:e=>{console.error("Error al eliminar la venta",e),alert("No se pudo eliminar la venta.")}})}irANuevaVenta(){this.router.navigate(["/ventas/nueva"])}static \u0275fac=function(e){return new(e||a)(T(ee),T(ve))};static \u0275cmp=E({type:a,selectors:[["app-venta-list"]],decls:43,vars:6,consts:[[2,"margin","20px"],[1,"filter-container"],["appearance","outline",1,"filter-input"],["matInput","","placeholder","Ej: Juan P\xE9rez o 25123456",3,"formControl"],["mat-icon-button","","matSuffix","","matTooltip","Limpiar",3,"click",4,"ngIf"],["matSuffix",""],["mat-raised-button","","color","primary",3,"click"],[1,"mat-elevation-z4","tabla-responsiva-contenedor"],["mat-table","",2,"min-width","1200px",3,"dataSource"],["matColumnDef","fechaOperacion"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombreCliente"],["matColumnDef","nombreVendedor"],["matColumnDef","clasificacionVehiculo"],["matColumnDef","precioPactado"],["mat-header-cell","","style","text-align: right;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: right;",4,"matCellDef"],["matColumnDef","estadoOperacion"],["matColumnDef","acciones"],["mat-header-cell","","style","text-align: center; min-width: 130px;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["mat-icon-button","","matSuffix","","matTooltip","Limpiar",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",2,"text-align","right"],["mat-cell","",2,"text-align","right"],["mat-header-cell","",2,"text-align","center","min-width","130px"],["mat-cell","",2,"text-align","center"],["mat-icon-button","","color","accent","matTooltip","Ver Detalle",3,"click"],["mat-icon-button","","color","primary","matTooltip","Editar Venta",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],[1,"mat-cell",2,"text-align","center","padding","20px"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"mat-card")(2,"mat-card-title"),r(3,"Listado de Ventas Registradas"),t(),o(4,"div",1)(5,"mat-form-field",2)(6,"mat-label"),r(7,"Buscar por Nombre o DNI del Cliente"),t(),p(8,"input",3),m(9,yo,3,0,"button",4),o(10,"mat-icon",5),r(11,"search"),t()(),o(12,"button",6),x("click",function(){return n.irANuevaVenta()}),o(13,"mat-icon"),r(14,"add"),t(),r(15," Registrar Nueva Venta "),t()(),o(16,"mat-card-content")(17,"div",7)(18,"table",8),H(19,9),m(20,Co,2,0,"th",10)(21,wo,3,4,"td",11),Q(),H(22,12),m(23,ko,2,0,"th",10)(24,Eo,2,1,"td",11),Q(),H(25,13),m(26,So,2,0,"th",10)(27,Mo,2,1,"td",11),Q(),H(28,14),m(29,Io,2,0,"th",10)(30,Oo,2,1,"td",11),Q(),H(31,15),m(32,Fo,2,0,"th",16)(33,Do,3,6,"td",17),Q(),H(34,18),m(35,To,2,0,"th",10)(36,Po,2,1,"td",11),Q(),H(37,19),m(38,Ao,2,0,"th",20)(39,Vo,7,0,"td",21),Q(),m(40,Lo,1,0,"tr",22)(41,No,1,0,"tr",23)(42,Ro,3,1,"tr",24),t()()()()()),e&2&&(s(8),c("formControl",n.filtroControl),s(),c("ngIf",n.filtroControl.value),s(9),c("dataSource",n.ventas$),s(22),c("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),s(),c("matRowDefColumns",n.displayedColumns))},dependencies:[J,ge,fe,Ye,K,nt,Oe,Fe,ea,Gi,Ti,Ai,Ri,Vi,Pi,zi,Li,Ni,Bi,ji,qi,Se,Ee,Ze,Ie,Me,tt,et,ke,ye,we,Ce,De,lt,ot,rt,ct,st],styles:[".filter-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 24px;gap:16px;flex-wrap:wrap}.filter-input[_ngcontent-%COMP%]{flex-grow:1;min-width:300px}.tabla-responsiva-contenedor[_ngcontent-%COMP%]{width:100%;overflow-x:auto}th.mat-header-cell[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px;white-space:nowrap}"]})};var Ka=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=S({type:a});static \u0275inj=k({imports:[xi,z,Ii,va,ut]})}return a})();function Bo(a,i){if(a&1&&(o(0,"tr")(1,"td",10),r(2,"Descripci\xF3n:"),t(),o(3,"td"),r(4),t()()),a&2){let e=g(2);s(4),_(e.venta.descripcionVehiculoManual)}}function jo(a,i){if(a&1&&(o(0,"table",9)(1,"tr")(2,"td",10),r(3,"Nombre:"),t(),o(4,"td"),r(5),t()(),o(6,"tr")(7,"td",10),r(8,"DNI/CUIT:"),t(),o(9,"td"),r(10),t()(),o(11,"tr")(12,"td",10),r(13,"Tel\xE9fono:"),t(),o(14,"td"),r(15),t()(),o(16,"tr")(17,"td",10),r(18,"Email:"),t(),o(19,"td"),r(20),t()(),o(21,"tr")(22,"td",10),r(23,"Direcci\xF3n:"),t(),o(24,"td"),r(25),t()(),o(26,"tr")(27,"td",10),r(28,"Cond. IVA:"),t(),o(29,"td"),r(30),t()()()),a&2){let e=i.ngIf;s(5),_(e.nombreRazonSocial),s(5),_(e.dniCuit||"N/A"),s(5),_(e.telefono||"N/A"),s(5),_(e.email||"N/A"),s(5),li("",e.direccion||"N/A",", ",e.localidad||"N/A",""),s(5),_(e.condicionIva||"N/A")}}function qo(a,i){if(a&1&&(o(0,"div",21)(1,"h4"),r(2,"Cr\xE9dito del M\xE9todo Principal"),t(),o(3,"table",9)(4,"tr")(5,"td",10),r(6,"Monto total del cr\xE9dito:"),t(),o(7,"td",14),r(8),b(9,"currency"),t(),o(10,"td",10),r(11,"En cu\xE1ntas cuotas:"),t(),o(12,"td"),r(13),t()(),o(14,"tr")(15,"td",10),r(16,"Monto por cuota:"),t(),o(17,"td",14),r(18),b(19,"currency"),t(),p(20,"td")(21,"td"),t()()()),a&2){let e=g(2);s(8),v(" ",I(9,3,(e.venta.pagoPrincipalCredito==null?null:e.venta.pagoPrincipalCredito.montoTotalCredito)||e.venta.montoTotalCredito,"ARS","symbol","1.0-0")," "),s(5),_((e.venta.pagoPrincipalCredito==null?null:e.venta.pagoPrincipalCredito.cantidadCuotasCredito)||e.venta.cantidadCuotasCredito),s(5),v(" ",I(19,8,(e.venta.pagoPrincipalCredito==null?null:e.venta.pagoPrincipalCredito.montoCuotaCredito)||e.venta.montoCuotaCredito,"ARS","symbol","1.0-0")," ")}}function Go(a,i){a&1&&(o(0,"td",10),r(1,"Monto:"),t())}function Ho(a,i){if(a&1&&(o(0,"td",14),r(1),b(2,"currency"),t()),a&2){let e=g().$implicit;s(),v(" ",I(2,1,e.monto,"ARS","symbol","1.0-0")," ")}}function Qo(a,i){if(a&1&&(H(0),o(1,"tr")(2,"td",10),r(3,"Monto total cr\xE9dito:"),t(),o(4,"td",14),r(5),b(6,"currency"),t(),o(7,"td",10),r(8,"Cuotas:"),t(),o(9,"td"),r(10),t()(),o(11,"tr")(12,"td",10),r(13,"Monto por cuota:"),t(),o(14,"td",14),r(15),b(16,"currency"),t(),p(17,"td")(18,"td"),t(),Q()),a&2){let e=g().$implicit;s(5),v(" ",I(6,3,e.montoTotalCredito,"ARS","symbol","1.0-0")," "),s(5),_(e.cuotas),s(5),v(" ",I(16,8,e.montoCuota,"ARS","symbol","1.0-0")," ")}}function Wo(a,i){if(a&1&&(o(0,"tr")(1,"td",10),r(2,"Obs./Ref.:"),t(),o(3,"td",17),r(4),t()()),a&2){let e=g().$implicit;s(4),_(e.referencia||e.observacion)}}function $o(a,i){if(a&1&&(o(0,"div",23)(1,"table",9)(2,"tr")(3,"td",10),r(4),t(),o(5,"td"),r(6),t(),m(7,Go,2,0,"td",24)(8,Ho,3,6,"td",25),t(),m(9,Qo,19,13,"ng-container",13)(10,Wo,5,1,"tr",13),t()()),a&2){let e=i.$implicit,n=i.index;s(4),v("#",n+1," \xB7 M\xE9todo:"),s(2),_(e.metodo||e.tipo),s(),c("ngIf",e.monto),s(),c("ngIf",e.monto),s(),c("ngIf",e.montoTotalCredito||e.cuotas||e.montoCuota),s(),c("ngIf",e.referencia||e.observacion)}}function Uo(a,i){if(a&1&&(o(0,"div",21)(1,"h4"),r(2,"Detalles de Pago Adicionales"),t(),m(3,$o,11,6,"div",22),t()),a&2){let e=g(2);s(3),c("ngForOf",e.venta.detallesPago)}}function Ko(a,i){if(a&1){let e=O();o(0,"div",21)(1,"h4"),r(2,"Detalles de Financiaci\xF3n Propia"),t(),o(3,"table",9)(4,"tr")(5,"td",10),r(6,"Monto Financiado (sin inter\xE9s):"),t(),o(7,"td",14),r(8),b(9,"currency"),t(),o(10,"td",10),r(11,"Inter\xE9s Aplicado (%):"),t(),o(12,"td"),r(13),t()(),o(14,"tr")(15,"td",10),r(16,"Monto Total con Inter\xE9s:"),t(),o(17,"td",14),r(18),b(19,"currency"),t(),o(20,"td",10),r(21,"Cantidad de Cuotas:"),t(),o(22,"td"),r(23),t()(),o(24,"tr")(25,"td",10),r(26,"Valor de Cada Cuota:"),t(),o(27,"td",14),r(28),b(29,"currency"),t(),p(30,"td")(31,"td"),t(),o(32,"tr")(33,"td",10),r(34,"Cuotas Pagadas (editable):"),t(),o(35,"td")(36,"input",26),di("ngModelChange",function(l){y(e);let d=g(2);return ci(d.venta.detalleFinanciacionPropia.cantidadCuotasPagadas,l)||(d.venta.detalleFinanciacionPropia.cantidadCuotasPagadas=l),C(l)}),t(),r(37),t(),o(38,"td",27)(39,"button",28),x("click",function(){y(e);let l=g(2);return C(l.guardarCantidadCuotasPagadas())}),r(40," Guardar Cuotas Pagadas "),t()()()()()}if(a&2){let e=g(2);s(8),_(I(9,8,e.venta.detalleFinanciacionPropia.montoFinanciado,"ARS","symbol","1.0-0")),s(5),v("",e.venta.detalleFinanciacionPropia.tasaInteresNominalAnual,"%"),s(5),_(I(19,13,e.venta.detalleFinanciacionPropia.montoTotalConInteres,"ARS","symbol","1.0-0")),s(5),_(e.venta.detalleFinanciacionPropia.cantidadCuotas),s(5),_(I(29,18,e.venta.detalleFinanciacionPropia.valorCuota,"ARS","symbol","1.0-0")),s(8),si("ngModel",e.venta.detalleFinanciacionPropia.cantidadCuotasPagadas),c("max",e.venta.detalleFinanciacionPropia.cantidadCuotas),s(),v(" / ",e.venta.detalleFinanciacionPropia.cantidadCuotas," ")}}function Yo(a,i){if(a&1&&(o(0,"div",21)(1,"h4"),r(2,"Detalles de Financiaci\xF3n Prendaria"),t(),o(3,"table",9)(4,"tr")(5,"td",10),r(6,"Entidad:"),t(),o(7,"td"),r(8),t(),o(9,"td",10),r(10,"Monto Cr\xE9dito:"),t(),o(11,"td",14),r(12),b(13,"currency"),t()(),o(14,"tr")(15,"td",10),r(16,"Plazo:"),t(),o(17,"td"),r(18),t(),o(19,"td",10),r(20,"Cuota Estimada:"),t(),o(21,"td",14),r(22),b(23,"currency"),t()(),o(24,"tr")(25,"td",10),r(26,"Ref.:"),t(),o(27,"td",17),r(28),t()()()()),a&2){let e=i.ngIf;s(8),_(e.entidadFinanciera),s(4),_(P(13,5,e.montoCreditoOtorgado,"ARS")),s(6),v("",e.plazoMeses," meses"),s(4),_(P(23,8,e.valorCuotaEstimado,"ARS")),s(6),_(e.numeroContratoORef||"N/A")}}function Xo(a,i){if(a&1&&(o(0,"div",21)(1,"h4"),r(2,"Detalles del Sistema de Inversi\xF3n"),t(),o(3,"table",9)(4,"tr")(5,"td",10),r(6,"C\xF3digo:"),t(),o(7,"td"),r(8),t(),o(9,"td",10),r(10,"A\xF1o:"),t(),o(11,"td"),r(12),t()(),o(13,"tr")(14,"td",10),r(15,"Precio:"),t(),o(16,"td",14),r(17),b(18,"currency"),t(),o(19,"td",10),r(20,"Cuotas:"),t(),o(21,"td"),r(22),t()()()()),a&2){let e=i.ngIf;s(8),_(e.codigo),s(4),_(e.anio),s(5),_(P(18,4,e.precio,"ARS")),s(5),_(e.cuotas)}}function Zo(a,i){if(a&1&&(o(0,"tr")(1,"td",10),r(2),t(),o(3,"td"),r(4),b(5,"currency"),t()()),a&2){let e=i.$implicit;s(2),v("",e.descripcion,":"),s(2),_(P(5,2,e.monto,"ARS"))}}function Jo(a,i){if(a&1&&(o(0,"div",21)(1,"h4"),r(2,"Desglose de Gastos"),t(),o(3,"table",9),m(4,Zo,6,5,"tr",29),t()()),a&2){let e=g(2);s(4),c("ngForOf",e.venta.gastosOperativosVenta)}}function er(a,i){if(a&1&&(o(0,"tr")(1,"td",10),r(2,"Observaciones:"),t(),o(3,"td",30),r(4),t()()),a&2){let e=g(2);s(4),_(e.venta.observacionesGenerales)}}function tr(a,i){if(a&1){let e=O();o(0,"div",2)(1,"div",3)(2,"h1"),r(3),t(),o(4,"div")(5,"button",4),x("click",function(){y(e);let l=g();return C(l.volverALista())}),o(6,"mat-icon"),r(7,"arrow_back"),t(),r(8," Volver a la Lista "),t(),o(9,"button",5),x("click",function(){y(e);let l=g();return C(l.imprimir())}),o(10,"mat-icon"),r(11,"print"),t(),r(12," Imprimir "),t()()(),o(13,"div",6)(14,"mat-card",7)(15,"mat-card-header")(16,"mat-icon",8),r(17,"receipt_long"),t(),o(18,"mat-card-title"),r(19,"Datos de la Operaci\xF3n"),t()(),o(20,"mat-card-content")(21,"table",9)(22,"tr")(23,"td",10),r(24,"Fecha:"),t(),o(25,"td"),r(26),b(27,"date"),t()(),o(28,"tr")(29,"td",10),r(30,"Vendedor:"),t(),o(31,"td"),r(32),t()(),o(33,"tr")(34,"td",10),r(35,"Estado:"),t(),o(36,"td")(37,"span",11),r(38),t()()(),o(39,"tr")(40,"td",12),p(41,"mat-divider"),t()(),o(42,"tr")(43,"td",10),r(44,"Veh\xEDculo:"),t(),o(45,"td"),r(46),t()(),m(47,Bo,5,1,"tr",13),o(48,"tr")(49,"td",10),r(50,"Precio Pactado:"),t(),o(51,"td",14),r(52),b(53,"currency"),t()()()()(),o(54,"mat-card",7)(55,"mat-card-header")(56,"mat-icon",8),r(57,"person"),t(),o(58,"mat-card-title"),r(59,"Cliente"),t()(),o(60,"mat-card-content"),m(61,jo,31,7,"table",15),t()(),o(62,"mat-card",16)(63,"mat-card-header")(64,"mat-icon",8),r(65,"payments"),t(),o(66,"mat-card-title"),r(67,"Detalles del Pago y Financiaci\xF3n"),t()(),o(68,"mat-card-content")(69,"table",9)(70,"tr")(71,"td",10),r(72,"M\xE9todo Principal:"),t(),o(73,"td"),r(74),t(),o(75,"td",10),r(76,"Monto Cobrado:"),t(),o(77,"td",14),r(78),b(79,"currency"),t()(),o(80,"tr")(81,"td",10),r(82,"Tipo de Financiaci\xF3n:"),t(),o(83,"td",17)(84,"strong"),r(85),t()()()(),m(86,qo,22,13,"div",18)(87,Uo,4,1,"div",18)(88,Ko,41,23,"div",18)(89,Yo,29,11,"div",18)(90,Xo,23,7,"div",18),t()(),o(91,"mat-card",19)(92,"mat-card-header")(93,"mat-icon",8),r(94,"monetization_on"),t(),o(95,"mat-card-title"),r(96,"Rentabilidad y Log\xEDstica"),t()(),o(97,"mat-card-content")(98,"table",9)(99,"tr")(100,"td",10),r(101,"Costo Veh\xEDculo:"),t(),o(102,"td",14),r(103),b(104,"currency"),t(),o(105,"td",10),r(106,"Comisi\xF3n Vendedor:"),t(),o(107,"td"),r(108),b(109,"currency"),t()(),o(110,"tr")(111,"td",10),r(112,"Ganancia Neta:"),t(),o(113,"td",14)(114,"strong"),r(115),b(116,"currency"),t()(),p(117,"td")(118,"td"),t()(),m(119,Jo,5,1,"div",18),p(120,"mat-divider",20),o(121,"table",9)(122,"tr")(123,"td",10),r(124,"Fecha Entrega Estimada:"),t(),o(125,"td"),r(126),b(127,"date"),t()(),o(128,"tr")(129,"td",10),r(130,"Fecha Entrega Efectiva:"),t(),o(131,"td"),r(132),b(133,"date"),t()(),m(134,er,5,1,"tr",13),t()()()()()}if(a&2){let e=g();s(3),v("Detalle de Venta: #",e.venta.idVenta,""),s(23),_(P(27,23,e.venta.fechaOperacion,"dd/MM/yyyy")),s(6),_((e.venta.empleadoVendedor==null?null:e.venta.empleadoVendedor.nombreCompleto)||"N/A"),s(6),_(e.venta.estadoOperacion),s(8),_(e.venta.clasificacionVehiculoVendido),s(),c("ngIf",e.venta.descripcionVehiculoManual),s(5),_(I(53,26,e.venta.precioVehiculoPactado,"ARS","symbol","1.0-0")),s(9),c("ngIf",e.venta.cliente),s(13),_(e.venta.metodoPagoPrincipal),s(4),_(I(79,31,e.venta.montoTotalCobrado,"ARS","symbol","1.0-0")),s(7),_(e.venta.tipoFinanciacion),s(),c("ngIf",(e.venta.pagoPrincipalCredito==null?null:e.venta.pagoPrincipalCredito.montoTotalCredito)||(e.venta.pagoPrincipalCredito==null?null:e.venta.pagoPrincipalCredito.cantidadCuotasCredito)||(e.venta.pagoPrincipalCredito==null?null:e.venta.pagoPrincipalCredito.montoCuotaCredito)||e.venta.montoTotalCredito||e.venta.cantidadCuotasCredito||e.venta.montoCuotaCredito),s(),c("ngIf",e.venta==null||e.venta.detallesPago==null?null:e.venta.detallesPago.length),s(),c("ngIf",(e.venta==null?null:e.venta.tipoFinanciacion)==="Propia"&&e.venta.detalleFinanciacionPropia),s(),c("ngIf",e.venta.tipoFinanciacion==="Prendaria"&&e.venta.detalleFinanciacionPrendaria),s(),c("ngIf",e.venta.tipoFinanciacion==="Sistema de Inversion"&&e.venta.detalleInversion),s(13),_(P(104,36,e.venta.costoVehiculoParaEmpresa,"ARS")),s(5),_(P(109,39,e.venta.comisionEmpleadoMonto,"ARS")),s(7),_(P(116,42,e.venta.gananciaNetaEmpresa,"ARS")),s(4),c("ngIf",e.venta.gastosOperativosVenta==null?null:e.venta.gastosOperativosVenta.length),s(7),_(P(127,45,e.venta.fechaEntregaEstimada,"dd/MM/yyyy")),s(6),_(P(133,48,e.venta.fechaEntregaEfectiva,"dd/MM/yyyy")),s(2),c("ngIf",e.venta.observacionesGenerales)}}function ir(a,i){a&1&&p(0,"mat-spinner")}function ar(a,i){a&1&&(o(0,"p"),r(1,"Cargando datos o venta no encontrada..."),t())}function nr(a,i){if(a&1&&(o(0,"div",31),m(1,ir,1,0,"mat-spinner",13)(2,ar,2,0,"p",13),t()),a&2){let e=g();s(),c("ngIf",e.isLoading),s(),c("ngIf",!e.isLoading&&!e.venta)}}var gt=class a{constructor(i,e,n){this.route=i;this.ventaService=e;this.router=n}venta;isLoading=!0;routeSubscription;ngOnInit(){this.routeSubscription=this.route.paramMap.pipe(ie(i=>{let e=i.get("idVenta");return e?(this.isLoading=!0,this.ventaService.getVentaById(Number(e))):Ge(void 0)})).subscribe(i=>{if(this.venta=i,this.isLoading=!1,this.venta){Array.isArray(this.venta.detallesPago)||(this.venta.detallesPago=[]);let e=this.venta.detalleFinanciacionPropia;e&&typeof e.cantidadCuotasPagadas!="number"&&Array.isArray(e.cuotas)&&(e.cantidadCuotasPagadas=e.cuotas.filter(n=>!!n?.pagada).length),!this.venta.pagoPrincipalCredito&&(this.venta.montoTotalCredito!=null||this.venta.cantidadCuotasCredito!=null||this.venta.montoCuotaCredito!=null)&&(this.venta.pagoPrincipalCredito={montoTotalCredito:this.venta.montoTotalCredito,cantidadCuotasCredito:this.venta.cantidadCuotasCredito,montoCuotaCredito:this.venta.montoCuotaCredito})}})}ngOnDestroy(){this.routeSubscription?.unsubscribe()}volverALista(){this.router.navigate(["/ventas"])}imprimir(){window.print()}calcularTotalGastos(i){return!i||i.length===0?0:i.reduce((e,n)=>e+(n.monto||0),0)}hasPrincipalCredit(){let i=this.venta;return i?!!(i.pagoPrincipalCredito?.montoTotalCredito||i.pagoPrincipalCredito?.cantidadCuotasCredito||i.pagoPrincipalCredito?.montoCuotaCredito||i.montoTotalCredito||i.cantidadCuotasCredito||i.montoCuotaCredito):!1}editarVenta(){this.venta?.idVenta!=null&&this.router.navigate(["/ventas/modificar",this.venta.idVenta])}guardarCantidadCuotasPagadas(){let i=this.venta?.idVenta,e=this.venta?.detalleFinanciacionPropia?.cantidadCuotasPagadas;i!=null&&e!=null&&this.ventaService.actualizarCuotasPagadas(i,e).subscribe({next:()=>alert("Cuotas pagadas actualizadas correctamente"),error:()=>alert("Hubo un error al guardar las cuotas")})}static \u0275fac=function(e){return new(e||a)(T(Xe),T(ee),T(ve))};static \u0275cmp=E({type:a,selectors:[["app-venta-detail"]],decls:3,vars:2,consts:[["loadingOrError",""],["class","detail-container",4,"ngIf","ngIfElse"],[1,"detail-container"],[1,"detail-header","no-print"],["mat-stroked-button","",2,"margin-left","8px",3,"click"],["mat-flat-button","","color","primary",2,"margin-left","10px",3,"click"],[1,"content-grid"],[1,"info-card"],["mat-card-avatar",""],[1,"detail-table"],[1,"label"],[1,"status-badge"],["colspan","2",1,"label"],[4,"ngIf"],[1,"price"],["class","detail-table",4,"ngIf"],[1,"info-card","full-width-card"],["colspan","3"],["class","detalle-seccion",4,"ngIf"],[1,"info-card","full-width-card","no-print"],[2,"margin","16px 0"],[1,"detalle-seccion"],["style","margin: 6px 0;",4,"ngFor","ngForOf"],[2,"margin","6px 0"],["class","label",4,"ngIf"],["class","price",4,"ngIf"],["type","number","min","0",2,"width","60px",3,"ngModelChange","ngModel","max"],["colspan","2"],["mat-flat-button","","color","primary",2,"margin-left","12px",3,"click"],[4,"ngFor","ngForOf"],["colspan","3",2,"white-space","pre-wrap"],[2,"display","flex","justify-content","center","align-items","center","padding","40px"]],template:function(e,n){if(e&1&&m(0,tr,135,51,"div",1)(1,nr,3,2,"ng-template",null,0,Ve),e&2){let l=j(2);c("ngIf",!n.isLoading&&n.venta)("ngIfElse",l)}},dependencies:[J,Ke,ge,fe,Ye,K,sa,Oe,it,Fe,oa,na,Zi,ke,ye,Si,we,Ei,Ce,Ka,Ne,ut,Se,Ee,Ie,Me,ht,ja],styles:[".detail-container[_ngcontent-%COMP%]{padding:24px 32px}.detail-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px;flex-wrap:wrap;gap:16px}.detail-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:2rem;font-weight:500;color:#333}.content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(420px,1fr));gap:32px}.info-card[_ngcontent-%COMP%]{width:100%;border-radius:8px}.full-width-card[_ngcontent-%COMP%]{grid-column:1 / -1}mat-card-header[_ngcontent-%COMP%]{padding-bottom:16px;border-bottom:1px solid #eee;margin-bottom:16px}mat-card-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:500}mat-icon[mat-card-avatar][_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:32px;width:40px;height:40px;color:#3f51b5}.detail-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.detail-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 8px;border-bottom:1px solid #f5f5f5;vertical-align:top}.detail-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.detail-table[_ngcontent-%COMP%]   td.label[_ngcontent-%COMP%]{font-weight:500;color:#0009;width:30%;white-space:nowrap}.price[_ngcontent-%COMP%]{font-weight:500;color:#388e3c}.status-badge[_ngcontent-%COMP%]{background-color:#e8eaf6;color:#3f51b5;padding:4px 12px;border-radius:16px;font-size:.85rem;font-weight:500;display:inline-block}.detalle-seccion[_ngcontent-%COMP%]{border-top:1px solid #e0e0e0;margin-top:20px;padding-top:20px}.detalle-seccion[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0;margin-bottom:16px;font-weight:500;color:#555}","@media print{.no-print[_ngcontent-%COMP%]{display:none!important}}"]})};var or=[{path:"",component:_t},{path:"nueva",component:Re},{path:"detalle/:idVenta",component:gt},{path:"editar/:idVenta",component:Re}],ft=class a{static \u0275fac=function(e){return new(e||a)};static \u0275mod=S({type:a});static \u0275inj=k({imports:[K.forChild(or),K]})};var Ya=class a{static \u0275fac=function(e){return new(e||a)};static \u0275mod=S({type:a});static \u0275inj=k({imports:[J,ft]})};export{Ya as VentasModule};
